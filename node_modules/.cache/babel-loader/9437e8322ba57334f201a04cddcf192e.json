{"ast":null,"code":"'use strict';\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDnd = require('react-dnd');\n\nvar _reactDndHtml5Backend = require('react-dnd-html5-backend');\n\nvar _reactDndHtml5Backend2 = _interopRequireDefault(_reactDndHtml5Backend);\n\nvar _isEqual = require('lodash/isEqual');\n\nvar _isEqual2 = _interopRequireDefault(_isEqual);\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _uniq = require('lodash/uniq');\n\nvar _uniq2 = _interopRequireDefault(_uniq);\n\nvar _Suggestions = require('./Suggestions');\n\nvar _Suggestions2 = _interopRequireDefault(_Suggestions);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _Tag = require('./Tag');\n\nvar _Tag2 = _interopRequireDefault(_Tag);\n\nvar _utils = require('./utils');\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n} //Constants\n\n\nvar ReactTags = function (_Component) {\n  _inherits(ReactTags, _Component);\n\n  function ReactTags(props) {\n    _classCallCheck(this, ReactTags);\n\n    var _this = _possibleConstructorReturn(this, (ReactTags.__proto__ || Object.getPrototypeOf(ReactTags)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    if (!props.inline) {\n      /* eslint-disable no-console */\n      console.warn('[Deprecation] The inline attribute is deprecated and will be removed in v7.x.x, please use inputFieldPosition instead.');\n      /* eslint-enable no-console */\n    }\n\n    var suggestions = props.suggestions;\n    _this.state = {\n      suggestions: suggestions,\n      query: '',\n      isFocused: false,\n      selectedIndex: -1,\n      selectionMode: false,\n      ariaLiveStatus: ''\n    };\n    _this.reactTagsRef = (0, _react.createRef)();\n    _this.handleFocus = _this.handleFocus.bind(_this);\n    _this.handleBlur = _this.handleBlur.bind(_this);\n    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n    _this.handleChange = _this.handleChange.bind(_this);\n    _this.moveTag = _this.moveTag.bind(_this);\n    _this.handlePaste = _this.handlePaste.bind(_this);\n    _this.handleSuggestionHover = _this.handleSuggestionHover.bind(_this);\n    _this.handleSuggestionClick = _this.handleSuggestionClick.bind(_this);\n    return _this;\n  }\n\n  _createClass(ReactTags, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          autofocus = _props.autofocus,\n          readOnly = _props.readOnly;\n\n      if (autofocus && !readOnly) {\n        this.resetAndFocusInput();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (!(0, _isEqual2.default)(prevProps.suggestions, this.props.suggestions)) {\n        this.updateSuggestions();\n      }\n    }\n  }, {\n    key: 'filteredSuggestions',\n    value: function filteredSuggestions(query, suggestions) {\n      var _this2 = this;\n\n      if (this.props.handleFilterSuggestions) {\n        return this.props.handleFilterSuggestions(query, suggestions);\n      }\n\n      var exactSuggestions = suggestions.filter(function (item) {\n        return _this2.getQueryIndex(query, item) === 0;\n      });\n      var partialSuggestions = suggestions.filter(function (item) {\n        return _this2.getQueryIndex(query, item) > 0;\n      });\n      return exactSuggestions.concat(partialSuggestions);\n    }\n  }, {\n    key: 'handleDelete',\n    value: function handleDelete(index, event) {\n      event.preventDefault();\n      event.stopPropagation();\n      var currentTags = this.props.tags.slice();\n      var ariaLiveStatus = 'Tag at index ' + index + ' with value ' + currentTags[index].id + ' deleted.';\n      this.props.handleDelete(index, event);\n      var allTags = this.reactTagsRef.current.querySelectorAll('.ReactTags__remove');\n      var nextElementToFocus = void 0,\n          nextIndex = void 0,\n          nextTag = void 0;\n\n      if (index === 0 && currentTags.length > 1) {\n        nextElementToFocus = allTags[0];\n        nextIndex = 0;\n        nextTag = currentTags[1];\n      } else {\n        nextElementToFocus = allTags[index - 1];\n        nextIndex = index - 1;\n        nextTag = currentTags[nextIndex];\n      }\n\n      if (!nextElementToFocus) {\n        nextIndex = -1;\n        nextElementToFocus = this.textInput;\n      }\n\n      if (nextIndex >= 0) {\n        ariaLiveStatus += ' Tag at index ' + nextIndex + ' with value ' + nextTag.id + ' focussed. Press backspace to remove';\n      } else {\n        ariaLiveStatus += 'Input focussed. Press enter to add a new tag';\n      }\n\n      nextElementToFocus.focus();\n      this.setState({\n        ariaLiveStatus: ariaLiveStatus\n      });\n    }\n  }, {\n    key: 'handleTagClick',\n    value: function handleTagClick(i, e) {\n      if (this.props.handleTagClick) {\n        this.props.handleTagClick(i, e);\n      }\n    }\n  }, {\n    key: 'handleChange',\n    value: function handleChange(e) {\n      if (this.props.handleInputChange) {\n        this.props.handleInputChange(e.target.value);\n      }\n\n      var query = e.target.value.trim();\n      this.setState({\n        query: query\n      }, this.updateSuggestions);\n    }\n  }, {\n    key: 'handleFocus',\n    value: function handleFocus(event) {\n      var value = event.target.value;\n\n      if (this.props.handleInputFocus) {\n        this.props.handleInputFocus(value);\n      }\n\n      this.setState({\n        isFocused: true\n      });\n    }\n  }, {\n    key: 'handleBlur',\n    value: function handleBlur(event) {\n      var value = event.target.value;\n\n      if (this.props.handleInputBlur) {\n        this.props.handleInputBlur(value);\n\n        if (this.textInput) {\n          this.textInput.value = '';\n        }\n      }\n\n      this.setState({\n        isFocused: false\n      });\n    }\n  }, {\n    key: 'handleKeyDown',\n    value: function handleKeyDown(e) {\n      var _state = this.state,\n          query = _state.query,\n          selectedIndex = _state.selectedIndex,\n          suggestions = _state.suggestions,\n          selectionMode = _state.selectionMode; // hide suggestions menu on escape\n\n      if (e.keyCode === _constants.KEYS.ESCAPE) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.setState({\n          selectedIndex: -1,\n          selectionMode: false,\n          suggestions: []\n        });\n      } // When one of the terminating keys is pressed, add current query to the tags.\n      // If no text is typed in so far, ignore the action - so we don't end up with a terminating\n      // character typed in.\n\n\n      if (this.props.delimiters.indexOf(e.keyCode) !== -1 && !e.shiftKey) {\n        if (e.keyCode !== _constants.KEYS.TAB || query !== '') {\n          e.preventDefault();\n        }\n\n        var selectedQuery = selectionMode && selectedIndex !== -1 ? suggestions[selectedIndex] : _defineProperty({\n          id: query\n        }, this.props.labelField, query);\n\n        if (selectedQuery !== '') {\n          this.addTag(selectedQuery);\n        }\n      } // when backspace key is pressed and query is blank, delete tag\n\n\n      if (e.keyCode === _constants.KEYS.BACKSPACE && query === '' && this.props.allowDeleteFromEmptyInput) {\n        this.handleDelete(this.props.tags.length - 1, e);\n      } // up arrow\n\n\n      if (e.keyCode === _constants.KEYS.UP_ARROW) {\n        e.preventDefault();\n        this.setState({\n          selectedIndex: selectedIndex <= 0 ? suggestions.length - 1 : selectedIndex - 1,\n          selectionMode: true\n        });\n      } // down arrow\n\n\n      if (e.keyCode === _constants.KEYS.DOWN_ARROW) {\n        e.preventDefault();\n        this.setState({\n          selectedIndex: suggestions.length === 0 ? -1 : (selectedIndex + 1) % suggestions.length,\n          selectionMode: true\n        });\n      }\n    }\n  }, {\n    key: 'handlePaste',\n    value: function handlePaste(e) {\n      var _this3 = this;\n\n      if (!this.props.allowAdditionFromPaste) {\n        return;\n      }\n\n      e.preventDefault();\n      var clipboardData = e.clipboardData || window.clipboardData;\n      var clipboardText = clipboardData.getData('text');\n      var _props$maxLength = this.props.maxLength,\n          maxLength = _props$maxLength === undefined ? clipboardText.length : _props$maxLength;\n      var maxTextLength = Math.min(maxLength, clipboardText.length);\n      var pastedText = clipboardData.getData('text').substr(0, maxTextLength); // Used to determine how the pasted content is split.\n\n      var delimiterRegExp = (0, _utils.buildRegExpFromDelimiters)(this.props.delimiters);\n      var tags = pastedText.split(delimiterRegExp); // Only add unique tags\n\n      (0, _uniq2.default)(tags).forEach(function (tag) {\n        return _this3.addTag(_defineProperty({\n          id: tag\n        }, _this3.props.labelField, tag));\n      });\n    }\n  }, {\n    key: 'handleSuggestionClick',\n    value: function handleSuggestionClick(i) {\n      this.addTag(this.state.suggestions[i]);\n    }\n  }, {\n    key: 'handleSuggestionHover',\n    value: function handleSuggestionHover(i) {\n      this.setState({\n        selectedIndex: i,\n        selectionMode: true\n      });\n    }\n  }, {\n    key: 'moveTag',\n    value: function moveTag(dragIndex, hoverIndex) {\n      var tags = this.props.tags; // locate tags\n\n      var dragTag = tags[dragIndex]; // call handler with the index of the dragged tag\n      // and the tag that is hovered\n\n      this.props.handleDrag(dragTag, dragIndex, hoverIndex);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var tagItems = this.getTagItems();\n\n      var classNames = _extends({}, _constants.DEFAULT_CLASSNAMES, this.props.classNames); // get the suggestions for the given query\n\n\n      var query = this.state.query.trim(),\n          selectedIndex = this.state.selectedIndex,\n          suggestions = this.state.suggestions;\n      var _props2 = this.props,\n          placeholder = _props2.placeholder,\n          inputName = _props2.name,\n          inputId = _props2.id,\n          maxLength = _props2.maxLength,\n          inline = _props2.inline,\n          inputFieldPosition = _props2.inputFieldPosition;\n      var position = !inline ? _constants.INPUT_FIELD_POSITIONS.BOTTOM : inputFieldPosition;\n      var tagInput = !this.props.readOnly ? _react2.default.createElement('div', {\n        className: classNames.tagInput\n      }, _react2.default.createElement('input', {\n        ref: function ref(input) {\n          _this4.textInput = input;\n        },\n        className: classNames.tagInputField,\n        type: 'text',\n        placeholder: placeholder,\n        'aria-label': placeholder,\n        onFocus: this.handleFocus,\n        onBlur: this.handleBlur,\n        onChange: this.handleChange,\n        onKeyDown: this.handleKeyDown,\n        onPaste: this.handlePaste,\n        name: inputName,\n        id: inputId,\n        maxLength: maxLength,\n        value: this.props.inputValue\n      }), _react2.default.createElement(_Suggestions2.default, {\n        query: query,\n        suggestions: suggestions,\n        labelField: this.props.labelField,\n        selectedIndex: selectedIndex,\n        handleClick: this.handleSuggestionClick,\n        handleHover: this.handleSuggestionHover,\n        minQueryLength: this.props.minQueryLength,\n        shouldRenderSuggestions: this.props.shouldRenderSuggestions,\n        isFocused: this.state.isFocused,\n        classNames: classNames,\n        renderSuggestion: this.props.renderSuggestion\n      })) : null;\n      return _react2.default.createElement('div', {\n        className: (0, _classnames2.default)(classNames.tags, 'react-tags-wrapper'),\n        ref: this.reactTagsRef\n      }, _react2.default.createElement('p', {\n        role: 'alert',\n        className: 'sr-only',\n        style: {\n          position: 'absolute',\n          overflow: 'hidden',\n          clip: 'rect(0 0 0 0)',\n          margin: '-1px',\n          padding: 0,\n          width: '1px',\n          height: '1px',\n          border: 0\n        }\n      }, this.state.ariaLiveStatus), position === _constants.INPUT_FIELD_POSITIONS.TOP && tagInput, _react2.default.createElement('div', {\n        className: classNames.selected\n      }, tagItems, position === _constants.INPUT_FIELD_POSITIONS.INLINE && tagInput), position === _constants.INPUT_FIELD_POSITIONS.BOTTOM && tagInput);\n    }\n  }]);\n\n  return ReactTags;\n}(_react.Component);\n\nReactTags.propTypes = {\n  placeholder: _propTypes2.default.string,\n  labelField: _propTypes2.default.string,\n  suggestions: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    id: _propTypes2.default.string.isRequired\n  })),\n  delimiters: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  autofocus: _propTypes2.default.bool,\n  inline: _propTypes2.default.bool,\n  // TODO: Remove in v7.x.x\n  inputFieldPosition: _propTypes2.default.oneOf([_constants.INPUT_FIELD_POSITIONS.INLINE, _constants.INPUT_FIELD_POSITIONS.TOP, _constants.INPUT_FIELD_POSITIONS.BOTTOM]),\n  handleDelete: _propTypes2.default.func,\n  handleAddition: _propTypes2.default.func,\n  handleDrag: _propTypes2.default.func,\n  handleFilterSuggestions: _propTypes2.default.func,\n  handleTagClick: _propTypes2.default.func,\n  allowDeleteFromEmptyInput: _propTypes2.default.bool,\n  allowAdditionFromPaste: _propTypes2.default.bool,\n  allowDragDrop: _propTypes2.default.bool,\n  handleInputChange: _propTypes2.default.func,\n  handleInputFocus: _propTypes2.default.func,\n  handleInputBlur: _propTypes2.default.func,\n  minQueryLength: _propTypes2.default.number,\n  shouldRenderSuggestions: _propTypes2.default.func,\n  removeComponent: _propTypes2.default.func,\n  autocomplete: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.number]),\n  readOnly: _propTypes2.default.bool,\n  classNames: _propTypes2.default.object,\n  name: _propTypes2.default.string,\n  id: _propTypes2.default.string,\n  maxLength: _propTypes2.default.number,\n  inputValue: _propTypes2.default.string,\n  tags: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    id: _propTypes2.default.string.isRequired,\n    className: _propTypes2.default.string\n  })),\n  allowUnique: _propTypes2.default.bool,\n  renderSuggestion: _propTypes2.default.func\n};\nReactTags.defaultProps = {\n  placeholder: _constants.DEFAULT_PLACEHOLDER,\n  labelField: _constants.DEFAULT_LABEL_FIELD,\n  suggestions: [],\n  delimiters: [_constants.KEYS.ENTER, _constants.KEYS.TAB],\n  autofocus: true,\n  inline: true,\n  // TODO: Remove in v7.x.x\n  inputFieldPosition: _constants.INPUT_FIELD_POSITIONS.INLINE,\n  handleDelete: _noop2.default,\n  handleAddition: _noop2.default,\n  allowDeleteFromEmptyInput: true,\n  allowAdditionFromPaste: true,\n  autocomplete: false,\n  readOnly: false,\n  allowUnique: true,\n  allowDragDrop: true,\n  tags: []\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.getQueryIndex = function (query, item) {\n    return item[_this5.props.labelField].toLowerCase().indexOf(query.toLowerCase());\n  };\n\n  this.resetAndFocusInput = function () {\n    _this5.setState({\n      query: ''\n    });\n\n    if (_this5.textInput) {\n      _this5.textInput.value = '';\n\n      _this5.textInput.focus();\n    }\n  };\n\n  this.updateSuggestions = function () {\n    var _state2 = _this5.state,\n        query = _state2.query,\n        selectedIndex = _state2.selectedIndex;\n\n    var suggestions = _this5.filteredSuggestions(query, _this5.props.suggestions);\n\n    _this5.setState({\n      suggestions: suggestions,\n      selectedIndex: selectedIndex >= suggestions.length ? suggestions.length - 1 : selectedIndex\n    });\n  };\n\n  this.addTag = function (tag) {\n    var _props3 = _this5.props,\n        tags = _props3.tags,\n        labelField = _props3.labelField,\n        allowUnique = _props3.allowUnique;\n\n    if (!tag.id || !tag[labelField]) {\n      return;\n    }\n\n    var existingKeys = tags.map(function (tag) {\n      return tag.id.toLowerCase();\n    }); // Return if tag has been already added\n\n    if (allowUnique && existingKeys.indexOf(tag.id.toLowerCase()) >= 0) {\n      return;\n    }\n\n    if (_this5.props.autocomplete) {\n      var possibleMatches = _this5.filteredSuggestions(tag[labelField], _this5.props.suggestions);\n\n      if (_this5.props.autocomplete === 1 && possibleMatches.length === 1 || _this5.props.autocomplete === true && possibleMatches.length) {\n        tag = possibleMatches[0];\n      }\n    } // call method to add\n\n\n    _this5.props.handleAddition(tag); // reset the state\n\n\n    _this5.setState({\n      query: '',\n      selectionMode: false,\n      selectedIndex: -1\n    });\n\n    _this5.resetAndFocusInput();\n  };\n\n  this.getTagItems = function () {\n    var _props4 = _this5.props,\n        classNames = _props4.classNames,\n        tags = _props4.tags,\n        labelField = _props4.labelField,\n        removeComponent = _props4.removeComponent,\n        readOnly = _props4.readOnly,\n        allowDragDrop = _props4.allowDragDrop;\n    var moveTag = allowDragDrop ? _this5.moveTag : null;\n    return tags.map(function (tag, index) {\n      return _react2.default.createElement(_Tag2.default, {\n        key: index,\n        index: index,\n        tag: tag,\n        labelField: labelField,\n        onDelete: _this5.handleDelete.bind(_this5, index),\n        moveTag: moveTag,\n        removeComponent: removeComponent,\n        onTagClicked: _this5.handleTagClick.bind(_this5, index),\n        readOnly: readOnly,\n        classNames: _extends({}, _constants.DEFAULT_CLASSNAMES, classNames),\n        allowDragDrop: allowDragDrop\n      });\n    });\n  };\n};\n\nmodule.exports = {\n  WithContext: (0, _reactDnd.DragDropContext)(_reactDndHtml5Backend2.default)(ReactTags),\n  WithOutContext: ReactTags,\n  KEYS: _constants.KEYS\n};","map":{"version":3,"sources":["D:/nuntium orginal project/nuntium/node_modules/react-tag-input/dist-modules/components/ReactTags.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_reactDnd","_reactDndHtml5Backend","_reactDndHtml5Backend2","_isEqual","_isEqual2","_noop","_noop2","_uniq","_uniq2","_Suggestions","_Suggestions2","_propTypes","_propTypes2","_classnames","_classnames2","_Tag","_Tag2","_utils","_constants","obj","__esModule","default","_defineProperty","value","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","ReactTags","_Component","_this","getPrototypeOf","_initialiseProps","inline","console","warn","suggestions","state","query","isFocused","selectedIndex","selectionMode","ariaLiveStatus","reactTagsRef","createRef","handleFocus","bind","handleBlur","handleKeyDown","handleChange","moveTag","handlePaste","handleSuggestionHover","handleSuggestionClick","componentDidMount","_props","autofocus","readOnly","resetAndFocusInput","componentDidUpdate","prevProps","updateSuggestions","filteredSuggestions","_this2","handleFilterSuggestions","exactSuggestions","filter","item","getQueryIndex","partialSuggestions","concat","handleDelete","index","event","preventDefault","stopPropagation","currentTags","tags","slice","id","allTags","current","querySelectorAll","nextElementToFocus","nextIndex","nextTag","textInput","focus","setState","handleTagClick","e","handleInputChange","trim","handleInputFocus","handleInputBlur","_state","keyCode","KEYS","ESCAPE","delimiters","indexOf","shiftKey","TAB","selectedQuery","labelField","addTag","BACKSPACE","allowDeleteFromEmptyInput","UP_ARROW","DOWN_ARROW","_this3","allowAdditionFromPaste","clipboardData","window","clipboardText","getData","_props$maxLength","maxLength","undefined","maxTextLength","Math","min","pastedText","substr","delimiterRegExp","buildRegExpFromDelimiters","split","forEach","tag","dragIndex","hoverIndex","dragTag","handleDrag","render","_this4","tagItems","getTagItems","classNames","DEFAULT_CLASSNAMES","_props2","placeholder","inputName","name","inputId","inputFieldPosition","position","INPUT_FIELD_POSITIONS","BOTTOM","tagInput","createElement","className","ref","input","tagInputField","type","onFocus","onBlur","onChange","onKeyDown","onPaste","inputValue","handleClick","handleHover","minQueryLength","shouldRenderSuggestions","renderSuggestion","role","style","overflow","clip","margin","padding","width","height","border","TOP","selected","INLINE","Component","propTypes","string","arrayOf","shape","isRequired","number","bool","oneOf","func","handleAddition","allowDragDrop","removeComponent","autocomplete","oneOfType","object","allowUnique","defaultProps","DEFAULT_PLACEHOLDER","DEFAULT_LABEL_FIELD","ENTER","_this5","toLowerCase","_state2","_props3","existingKeys","map","possibleMatches","_props4","onDelete","onTagClicked","module","exports","WithContext","DragDropContext","WithOutContext"],"mappings":"AAAA;;AAEA,IAAIA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,QAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;AAA2B,SAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,UAAIN,MAAM,CAACQ,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEL,QAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,SAAOL,MAAP;AAAgB,CAAhQ;;AAEA,IAAIS,YAAY,GAAG,YAAY;AAAE,WAASC,gBAAT,CAA0BV,MAA1B,EAAkCW,KAAlC,EAAyC;AAAE,SAAK,IAAIV,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGU,KAAK,CAACR,MAA1B,EAAkCF,CAAC,EAAnC,EAAuC;AAAE,UAAIW,UAAU,GAAGD,KAAK,CAACV,CAAD,CAAtB;AAA2BW,MAAAA,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;AAAwDD,MAAAA,UAAU,CAACE,YAAX,GAA0B,IAA1B;AAAgC,UAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;AAA4BjB,MAAAA,MAAM,CAACkB,cAAP,CAAsBhB,MAAtB,EAA8BY,UAAU,CAACP,GAAzC,EAA8CO,UAA9C;AAA4D;AAAE;;AAAC,SAAO,UAAUK,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,QAAID,UAAJ,EAAgBR,gBAAgB,CAACO,WAAW,CAACX,SAAb,EAAwBY,UAAxB,CAAhB;AAAqD,QAAIC,WAAJ,EAAiBT,gBAAgB,CAACO,WAAD,EAAcE,WAAd,CAAhB;AAA4C,WAAOF,WAAP;AAAqB,GAAhN;AAAmN,CAA9hB,EAAnB;;AAEA,IAAIG,MAAM,GAAGC,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIC,OAAO,GAAGC,sBAAsB,CAACH,MAAD,CAApC;;AAEA,IAAII,SAAS,GAAGH,OAAO,CAAC,WAAD,CAAvB;;AAEA,IAAII,qBAAqB,GAAGJ,OAAO,CAAC,yBAAD,CAAnC;;AAEA,IAAIK,sBAAsB,GAAGH,sBAAsB,CAACE,qBAAD,CAAnD;;AAEA,IAAIE,QAAQ,GAAGN,OAAO,CAAC,gBAAD,CAAtB;;AAEA,IAAIO,SAAS,GAAGL,sBAAsB,CAACI,QAAD,CAAtC;;AAEA,IAAIE,KAAK,GAAGR,OAAO,CAAC,aAAD,CAAnB;;AAEA,IAAIS,MAAM,GAAGP,sBAAsB,CAACM,KAAD,CAAnC;;AAEA,IAAIE,KAAK,GAAGV,OAAO,CAAC,aAAD,CAAnB;;AAEA,IAAIW,MAAM,GAAGT,sBAAsB,CAACQ,KAAD,CAAnC;;AAEA,IAAIE,YAAY,GAAGZ,OAAO,CAAC,eAAD,CAA1B;;AAEA,IAAIa,aAAa,GAAGX,sBAAsB,CAACU,YAAD,CAA1C;;AAEA,IAAIE,UAAU,GAAGd,OAAO,CAAC,YAAD,CAAxB;;AAEA,IAAIe,WAAW,GAAGb,sBAAsB,CAACY,UAAD,CAAxC;;AAEA,IAAIE,WAAW,GAAGhB,OAAO,CAAC,YAAD,CAAzB;;AAEA,IAAIiB,YAAY,GAAGf,sBAAsB,CAACc,WAAD,CAAzC;;AAEA,IAAIE,IAAI,GAAGlB,OAAO,CAAC,OAAD,CAAlB;;AAEA,IAAImB,KAAK,GAAGjB,sBAAsB,CAACgB,IAAD,CAAlC;;AAEA,IAAIE,MAAM,GAAGpB,OAAO,CAAC,SAAD,CAApB;;AAEA,IAAIqB,UAAU,GAAGrB,OAAO,CAAC,aAAD,CAAxB;;AAEA,SAASE,sBAAT,CAAgCoB,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEE,IAAAA,OAAO,EAAEF;AAAX,GAArC;AAAwD;;AAE/F,SAASG,eAAT,CAAyBH,GAAzB,EAA8BtC,GAA9B,EAAmC0C,KAAnC,EAA0C;AAAE,MAAI1C,GAAG,IAAIsC,GAAX,EAAgB;AAAE7C,IAAAA,MAAM,CAACkB,cAAP,CAAsB2B,GAAtB,EAA2BtC,GAA3B,EAAgC;AAAE0C,MAAAA,KAAK,EAAEA,KAAT;AAAgBlC,MAAAA,UAAU,EAAE,IAA5B;AAAkCC,MAAAA,YAAY,EAAE,IAAhD;AAAsDC,MAAAA,QAAQ,EAAE;AAAhE,KAAhC;AAA0G,GAA5H,MAAkI;AAAE4B,IAAAA,GAAG,CAACtC,GAAD,CAAH,GAAW0C,KAAX;AAAmB;;AAAC,SAAOJ,GAAP;AAAa;;AAEjN,SAASK,eAAT,CAAyBC,QAAzB,EAAmChC,WAAnC,EAAgD;AAAE,MAAI,EAAEgC,QAAQ,YAAYhC,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAIiC,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASC,0BAAT,CAAoCC,IAApC,EAA0C5C,IAA1C,EAAgD;AAAE,MAAI,CAAC4C,IAAL,EAAW;AAAE,UAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,SAAO7C,IAAI,KAAK,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAAjD,CAAJ,GAAmEA,IAAnE,GAA0E4C,IAAjF;AAAwF;;AAEhP,SAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,MAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAAE,UAAM,IAAIN,SAAJ,CAAc,6DAA6D,OAAOM,UAAlF,CAAN;AAAsG;;AAACD,EAAAA,QAAQ,CAACjD,SAAT,GAAqBR,MAAM,CAAC2D,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAAClD,SAAvC,EAAkD;AAAEoD,IAAAA,WAAW,EAAE;AAAEX,MAAAA,KAAK,EAAEQ,QAAT;AAAmB1C,MAAAA,UAAU,EAAE,KAA/B;AAAsCE,MAAAA,QAAQ,EAAE,IAAhD;AAAsDD,MAAAA,YAAY,EAAE;AAApE;AAAf,GAAlD,CAArB;AAAqK,MAAI0C,UAAJ,EAAgB1D,MAAM,CAAC6D,cAAP,GAAwB7D,MAAM,CAAC6D,cAAP,CAAsBJ,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,QAAQ,CAACK,SAAT,GAAqBJ,UAA3F;AAAwG,C,CAE9e;;;AAGA,IAAIK,SAAS,GAAG,UAAUC,UAAV,EAAsB;AACpCR,EAAAA,SAAS,CAACO,SAAD,EAAYC,UAAZ,CAAT;;AAEA,WAASD,SAAT,CAAmBlD,KAAnB,EAA0B;AACxBqC,IAAAA,eAAe,CAAC,IAAD,EAAOa,SAAP,CAAf;;AAEA,QAAIE,KAAK,GAAGZ,0BAA0B,CAAC,IAAD,EAAO,CAACU,SAAS,CAACD,SAAV,IAAuB9D,MAAM,CAACkE,cAAP,CAAsBH,SAAtB,CAAxB,EAA0DrD,IAA1D,CAA+D,IAA/D,EAAqEG,KAArE,CAAP,CAAtC;;AAEAsD,IAAAA,gBAAgB,CAACzD,IAAjB,CAAsBuD,KAAtB;;AAEA,QAAI,CAACpD,KAAK,CAACuD,MAAX,EAAmB;AACjB;AACAC,MAAAA,OAAO,CAACC,IAAR,CAAa,wHAAb;AACA;AACD;;AAED,QAAIC,WAAW,GAAG1D,KAAK,CAAC0D,WAAxB;AAEAN,IAAAA,KAAK,CAACO,KAAN,GAAc;AACZD,MAAAA,WAAW,EAAEA,WADD;AAEZE,MAAAA,KAAK,EAAE,EAFK;AAGZC,MAAAA,SAAS,EAAE,KAHC;AAIZC,MAAAA,aAAa,EAAE,CAAC,CAJJ;AAKZC,MAAAA,aAAa,EAAE,KALH;AAMZC,MAAAA,cAAc,EAAE;AANJ,KAAd;AAQAZ,IAAAA,KAAK,CAACa,YAAN,GAAqB,CAAC,GAAGxD,MAAM,CAACyD,SAAX,GAArB;AACAd,IAAAA,KAAK,CAACe,WAAN,GAAoBf,KAAK,CAACe,WAAN,CAAkBC,IAAlB,CAAuBhB,KAAvB,CAApB;AACAA,IAAAA,KAAK,CAACiB,UAAN,GAAmBjB,KAAK,CAACiB,UAAN,CAAiBD,IAAjB,CAAsBhB,KAAtB,CAAnB;AACAA,IAAAA,KAAK,CAACkB,aAAN,GAAsBlB,KAAK,CAACkB,aAAN,CAAoBF,IAApB,CAAyBhB,KAAzB,CAAtB;AACAA,IAAAA,KAAK,CAACmB,YAAN,GAAqBnB,KAAK,CAACmB,YAAN,CAAmBH,IAAnB,CAAwBhB,KAAxB,CAArB;AACAA,IAAAA,KAAK,CAACoB,OAAN,GAAgBpB,KAAK,CAACoB,OAAN,CAAcJ,IAAd,CAAmBhB,KAAnB,CAAhB;AACAA,IAAAA,KAAK,CAACqB,WAAN,GAAoBrB,KAAK,CAACqB,WAAN,CAAkBL,IAAlB,CAAuBhB,KAAvB,CAApB;AACAA,IAAAA,KAAK,CAACsB,qBAAN,GAA8BtB,KAAK,CAACsB,qBAAN,CAA4BN,IAA5B,CAAiChB,KAAjC,CAA9B;AACAA,IAAAA,KAAK,CAACuB,qBAAN,GAA8BvB,KAAK,CAACuB,qBAAN,CAA4BP,IAA5B,CAAiChB,KAAjC,CAA9B;AACA,WAAOA,KAAP;AACD;;AAEDtD,EAAAA,YAAY,CAACoD,SAAD,EAAY,CAAC;AACvBxD,IAAAA,GAAG,EAAE,mBADkB;AAEvB0C,IAAAA,KAAK,EAAE,SAASwC,iBAAT,GAA6B;AAClC,UAAIC,MAAM,GAAG,KAAK7E,KAAlB;AAAA,UACI8E,SAAS,GAAGD,MAAM,CAACC,SADvB;AAAA,UAEIC,QAAQ,GAAGF,MAAM,CAACE,QAFtB;;AAKA,UAAID,SAAS,IAAI,CAACC,QAAlB,EAA4B;AAC1B,aAAKC,kBAAL;AACD;AACF;AAXsB,GAAD,EAYrB;AACDtF,IAAAA,GAAG,EAAE,oBADJ;AAED0C,IAAAA,KAAK,EAAE,SAAS6C,kBAAT,CAA4BC,SAA5B,EAAuC;AAC5C,UAAI,CAAC,CAAC,GAAGjE,SAAS,CAACiB,OAAd,EAAuBgD,SAAS,CAACxB,WAAjC,EAA8C,KAAK1D,KAAL,CAAW0D,WAAzD,CAAL,EAA4E;AAC1E,aAAKyB,iBAAL;AACD;AACF;AANA,GAZqB,EAmBrB;AACDzF,IAAAA,GAAG,EAAE,qBADJ;AAED0C,IAAAA,KAAK,EAAE,SAASgD,mBAAT,CAA6BxB,KAA7B,EAAoCF,WAApC,EAAiD;AACtD,UAAI2B,MAAM,GAAG,IAAb;;AAEA,UAAI,KAAKrF,KAAL,CAAWsF,uBAAf,EAAwC;AACtC,eAAO,KAAKtF,KAAL,CAAWsF,uBAAX,CAAmC1B,KAAnC,EAA0CF,WAA1C,CAAP;AACD;;AAED,UAAI6B,gBAAgB,GAAG7B,WAAW,CAAC8B,MAAZ,CAAmB,UAAUC,IAAV,EAAgB;AACxD,eAAOJ,MAAM,CAACK,aAAP,CAAqB9B,KAArB,EAA4B6B,IAA5B,MAAsC,CAA7C;AACD,OAFsB,CAAvB;AAGA,UAAIE,kBAAkB,GAAGjC,WAAW,CAAC8B,MAAZ,CAAmB,UAAUC,IAAV,EAAgB;AAC1D,eAAOJ,MAAM,CAACK,aAAP,CAAqB9B,KAArB,EAA4B6B,IAA5B,IAAoC,CAA3C;AACD,OAFwB,CAAzB;AAGA,aAAOF,gBAAgB,CAACK,MAAjB,CAAwBD,kBAAxB,CAAP;AACD;AAhBA,GAnBqB,EAoCrB;AACDjG,IAAAA,GAAG,EAAE,cADJ;AAED0C,IAAAA,KAAK,EAAE,SAASyD,YAAT,CAAsBC,KAAtB,EAA6BC,KAA7B,EAAoC;AACzCA,MAAAA,KAAK,CAACC,cAAN;AACAD,MAAAA,KAAK,CAACE,eAAN;AACA,UAAIC,WAAW,GAAG,KAAKlG,KAAL,CAAWmG,IAAX,CAAgBC,KAAhB,EAAlB;AACA,UAAIpC,cAAc,GAAG,kBAAkB8B,KAAlB,GAA0B,cAA1B,GAA2CI,WAAW,CAACJ,KAAD,CAAX,CAAmBO,EAA9D,GAAmE,WAAxF;AACA,WAAKrG,KAAL,CAAW6F,YAAX,CAAwBC,KAAxB,EAA+BC,KAA/B;AACA,UAAIO,OAAO,GAAG,KAAKrC,YAAL,CAAkBsC,OAAlB,CAA0BC,gBAA1B,CAA2C,oBAA3C,CAAd;AACA,UAAIC,kBAAkB,GAAG,KAAK,CAA9B;AAAA,UACIC,SAAS,GAAG,KAAK,CADrB;AAAA,UAEIC,OAAO,GAAG,KAAK,CAFnB;;AAGA,UAAIb,KAAK,KAAK,CAAV,IAAeI,WAAW,CAAC1G,MAAZ,GAAqB,CAAxC,EAA2C;AACzCiH,QAAAA,kBAAkB,GAAGH,OAAO,CAAC,CAAD,CAA5B;AACAI,QAAAA,SAAS,GAAG,CAAZ;AACAC,QAAAA,OAAO,GAAGT,WAAW,CAAC,CAAD,CAArB;AACD,OAJD,MAIO;AACLO,QAAAA,kBAAkB,GAAGH,OAAO,CAACR,KAAK,GAAG,CAAT,CAA5B;AACAY,QAAAA,SAAS,GAAGZ,KAAK,GAAG,CAApB;AACAa,QAAAA,OAAO,GAAGT,WAAW,CAACQ,SAAD,CAArB;AACD;;AACD,UAAI,CAACD,kBAAL,EAAyB;AACvBC,QAAAA,SAAS,GAAG,CAAC,CAAb;AACAD,QAAAA,kBAAkB,GAAG,KAAKG,SAA1B;AACD;;AACD,UAAIF,SAAS,IAAI,CAAjB,EAAoB;AAClB1C,QAAAA,cAAc,IAAI,mBAAmB0C,SAAnB,GAA+B,cAA/B,GAAgDC,OAAO,CAACN,EAAxD,GAA6D,sCAA/E;AACD,OAFD,MAEO;AACLrC,QAAAA,cAAc,IAAI,8CAAlB;AACD;;AACDyC,MAAAA,kBAAkB,CAACI,KAAnB;AACA,WAAKC,QAAL,CAAc;AACZ9C,QAAAA,cAAc,EAAEA;AADJ,OAAd;AAGD;AAlCA,GApCqB,EAuErB;AACDtE,IAAAA,GAAG,EAAE,gBADJ;AAED0C,IAAAA,KAAK,EAAE,SAAS2E,cAAT,CAAwBzH,CAAxB,EAA2B0H,CAA3B,EAA8B;AACnC,UAAI,KAAKhH,KAAL,CAAW+G,cAAf,EAA+B;AAC7B,aAAK/G,KAAL,CAAW+G,cAAX,CAA0BzH,CAA1B,EAA6B0H,CAA7B;AACD;AACF;AANA,GAvEqB,EA8ErB;AACDtH,IAAAA,GAAG,EAAE,cADJ;AAED0C,IAAAA,KAAK,EAAE,SAASmC,YAAT,CAAsByC,CAAtB,EAAyB;AAC9B,UAAI,KAAKhH,KAAL,CAAWiH,iBAAf,EAAkC;AAChC,aAAKjH,KAAL,CAAWiH,iBAAX,CAA6BD,CAAC,CAAC3H,MAAF,CAAS+C,KAAtC;AACD;;AAED,UAAIwB,KAAK,GAAGoD,CAAC,CAAC3H,MAAF,CAAS+C,KAAT,CAAe8E,IAAf,EAAZ;AAEA,WAAKJ,QAAL,CAAc;AAAElD,QAAAA,KAAK,EAAEA;AAAT,OAAd,EAAgC,KAAKuB,iBAArC;AACD;AAVA,GA9EqB,EAyFrB;AACDzF,IAAAA,GAAG,EAAE,aADJ;AAED0C,IAAAA,KAAK,EAAE,SAAS+B,WAAT,CAAqB4B,KAArB,EAA4B;AACjC,UAAI3D,KAAK,GAAG2D,KAAK,CAAC1G,MAAN,CAAa+C,KAAzB;;AACA,UAAI,KAAKpC,KAAL,CAAWmH,gBAAf,EAAiC;AAC/B,aAAKnH,KAAL,CAAWmH,gBAAX,CAA4B/E,KAA5B;AACD;;AACD,WAAK0E,QAAL,CAAc;AAAEjD,QAAAA,SAAS,EAAE;AAAb,OAAd;AACD;AARA,GAzFqB,EAkGrB;AACDnE,IAAAA,GAAG,EAAE,YADJ;AAED0C,IAAAA,KAAK,EAAE,SAASiC,UAAT,CAAoB0B,KAApB,EAA2B;AAChC,UAAI3D,KAAK,GAAG2D,KAAK,CAAC1G,MAAN,CAAa+C,KAAzB;;AACA,UAAI,KAAKpC,KAAL,CAAWoH,eAAf,EAAgC;AAC9B,aAAKpH,KAAL,CAAWoH,eAAX,CAA2BhF,KAA3B;;AACA,YAAI,KAAKwE,SAAT,EAAoB;AAClB,eAAKA,SAAL,CAAexE,KAAf,GAAuB,EAAvB;AACD;AACF;;AACD,WAAK0E,QAAL,CAAc;AAAEjD,QAAAA,SAAS,EAAE;AAAb,OAAd;AACD;AAXA,GAlGqB,EA8GrB;AACDnE,IAAAA,GAAG,EAAE,eADJ;AAED0C,IAAAA,KAAK,EAAE,SAASkC,aAAT,CAAuB0C,CAAvB,EAA0B;AAC/B,UAAIK,MAAM,GAAG,KAAK1D,KAAlB;AAAA,UACIC,KAAK,GAAGyD,MAAM,CAACzD,KADnB;AAAA,UAEIE,aAAa,GAAGuD,MAAM,CAACvD,aAF3B;AAAA,UAGIJ,WAAW,GAAG2D,MAAM,CAAC3D,WAHzB;AAAA,UAIIK,aAAa,GAAGsD,MAAM,CAACtD,aAJ3B,CAD+B,CAO/B;;AAEA,UAAIiD,CAAC,CAACM,OAAF,KAAcvF,UAAU,CAACwF,IAAX,CAAgBC,MAAlC,EAA0C;AACxCR,QAAAA,CAAC,CAAChB,cAAF;AACAgB,QAAAA,CAAC,CAACf,eAAF;AACA,aAAKa,QAAL,CAAc;AACZhD,UAAAA,aAAa,EAAE,CAAC,CADJ;AAEZC,UAAAA,aAAa,EAAE,KAFH;AAGZL,UAAAA,WAAW,EAAE;AAHD,SAAd;AAKD,OAjB8B,CAmB/B;AACA;AACA;;;AACA,UAAI,KAAK1D,KAAL,CAAWyH,UAAX,CAAsBC,OAAtB,CAA8BV,CAAC,CAACM,OAAhC,MAA6C,CAAC,CAA9C,IAAmD,CAACN,CAAC,CAACW,QAA1D,EAAoE;AAClE,YAAIX,CAAC,CAACM,OAAF,KAAcvF,UAAU,CAACwF,IAAX,CAAgBK,GAA9B,IAAqChE,KAAK,KAAK,EAAnD,EAAuD;AACrDoD,UAAAA,CAAC,CAAChB,cAAF;AACD;;AAED,YAAI6B,aAAa,GAAG9D,aAAa,IAAID,aAAa,KAAK,CAAC,CAApC,GAAwCJ,WAAW,CAACI,aAAD,CAAnD,GAAqE3B,eAAe,CAAC;AAAEkE,UAAAA,EAAE,EAAEzC;AAAN,SAAD,EAAgB,KAAK5D,KAAL,CAAW8H,UAA3B,EAAuClE,KAAvC,CAAxG;;AAEA,YAAIiE,aAAa,KAAK,EAAtB,EAA0B;AACxB,eAAKE,MAAL,CAAYF,aAAZ;AACD;AACF,OAhC8B,CAkC/B;;;AACA,UAAIb,CAAC,CAACM,OAAF,KAAcvF,UAAU,CAACwF,IAAX,CAAgBS,SAA9B,IAA2CpE,KAAK,KAAK,EAArD,IAA2D,KAAK5D,KAAL,CAAWiI,yBAA1E,EAAqG;AACnG,aAAKpC,YAAL,CAAkB,KAAK7F,KAAL,CAAWmG,IAAX,CAAgB3G,MAAhB,GAAyB,CAA3C,EAA8CwH,CAA9C;AACD,OArC8B,CAuC/B;;;AACA,UAAIA,CAAC,CAACM,OAAF,KAAcvF,UAAU,CAACwF,IAAX,CAAgBW,QAAlC,EAA4C;AAC1ClB,QAAAA,CAAC,CAAChB,cAAF;AACA,aAAKc,QAAL,CAAc;AACZhD,UAAAA,aAAa,EAAEA,aAAa,IAAI,CAAjB,GAAqBJ,WAAW,CAAClE,MAAZ,GAAqB,CAA1C,GAA8CsE,aAAa,GAAG,CADjE;AAEZC,UAAAA,aAAa,EAAE;AAFH,SAAd;AAID,OA9C8B,CAgD/B;;;AACA,UAAIiD,CAAC,CAACM,OAAF,KAAcvF,UAAU,CAACwF,IAAX,CAAgBY,UAAlC,EAA8C;AAC5CnB,QAAAA,CAAC,CAAChB,cAAF;AACA,aAAKc,QAAL,CAAc;AACZhD,UAAAA,aAAa,EAAEJ,WAAW,CAAClE,MAAZ,KAAuB,CAAvB,GAA2B,CAAC,CAA5B,GAAgC,CAACsE,aAAa,GAAG,CAAjB,IAAsBJ,WAAW,CAAClE,MADrE;AAEZuE,UAAAA,aAAa,EAAE;AAFH,SAAd;AAID;AACF;AA1DA,GA9GqB,EAyKrB;AACDrE,IAAAA,GAAG,EAAE,aADJ;AAED0C,IAAAA,KAAK,EAAE,SAASqC,WAAT,CAAqBuC,CAArB,EAAwB;AAC7B,UAAIoB,MAAM,GAAG,IAAb;;AAEA,UAAI,CAAC,KAAKpI,KAAL,CAAWqI,sBAAhB,EAAwC;AACtC;AACD;;AAEDrB,MAAAA,CAAC,CAAChB,cAAF;AAEA,UAAIsC,aAAa,GAAGtB,CAAC,CAACsB,aAAF,IAAmBC,MAAM,CAACD,aAA9C;AACA,UAAIE,aAAa,GAAGF,aAAa,CAACG,OAAd,CAAsB,MAAtB,CAApB;AAEA,UAAIC,gBAAgB,GAAG,KAAK1I,KAAL,CAAW2I,SAAlC;AAAA,UACIA,SAAS,GAAGD,gBAAgB,KAAKE,SAArB,GAAiCJ,aAAa,CAAChJ,MAA/C,GAAwDkJ,gBADxE;AAIA,UAAIG,aAAa,GAAGC,IAAI,CAACC,GAAL,CAASJ,SAAT,EAAoBH,aAAa,CAAChJ,MAAlC,CAApB;AACA,UAAIwJ,UAAU,GAAGV,aAAa,CAACG,OAAd,CAAsB,MAAtB,EAA8BQ,MAA9B,CAAqC,CAArC,EAAwCJ,aAAxC,CAAjB,CAjB6B,CAmB7B;;AACA,UAAIK,eAAe,GAAG,CAAC,GAAGpH,MAAM,CAACqH,yBAAX,EAAsC,KAAKnJ,KAAL,CAAWyH,UAAjD,CAAtB;AACA,UAAItB,IAAI,GAAG6C,UAAU,CAACI,KAAX,CAAiBF,eAAjB,CAAX,CArB6B,CAuB7B;;AACA,OAAC,GAAG7H,MAAM,CAACa,OAAX,EAAoBiE,IAApB,EAA0BkD,OAA1B,CAAkC,UAAUC,GAAV,EAAe;AAC/C,eAAOlB,MAAM,CAACL,MAAP,CAAc5F,eAAe,CAAC;AAAEkE,UAAAA,EAAE,EAAEiD;AAAN,SAAD,EAAclB,MAAM,CAACpI,KAAP,CAAa8H,UAA3B,EAAuCwB,GAAvC,CAA7B,CAAP;AACD,OAFD;AAGD;AA7BA,GAzKqB,EAuMrB;AACD5J,IAAAA,GAAG,EAAE,uBADJ;AAED0C,IAAAA,KAAK,EAAE,SAASuC,qBAAT,CAA+BrF,CAA/B,EAAkC;AACvC,WAAKyI,MAAL,CAAY,KAAKpE,KAAL,CAAWD,WAAX,CAAuBpE,CAAvB,CAAZ;AACD;AAJA,GAvMqB,EA4MrB;AACDI,IAAAA,GAAG,EAAE,uBADJ;AAED0C,IAAAA,KAAK,EAAE,SAASsC,qBAAT,CAA+BpF,CAA/B,EAAkC;AACvC,WAAKwH,QAAL,CAAc;AACZhD,QAAAA,aAAa,EAAExE,CADH;AAEZyE,QAAAA,aAAa,EAAE;AAFH,OAAd;AAID;AAPA,GA5MqB,EAoNrB;AACDrE,IAAAA,GAAG,EAAE,SADJ;AAED0C,IAAAA,KAAK,EAAE,SAASoC,OAAT,CAAiB+E,SAAjB,EAA4BC,UAA5B,EAAwC;AAC7C,UAAIrD,IAAI,GAAG,KAAKnG,KAAL,CAAWmG,IAAtB,CAD6C,CAG7C;;AACA,UAAIsD,OAAO,GAAGtD,IAAI,CAACoD,SAAD,CAAlB,CAJ6C,CAM7C;AACA;;AACA,WAAKvJ,KAAL,CAAW0J,UAAX,CAAsBD,OAAtB,EAA+BF,SAA/B,EAA0CC,UAA1C;AACD;AAXA,GApNqB,EAgOrB;AACD9J,IAAAA,GAAG,EAAE,QADJ;AAED0C,IAAAA,KAAK,EAAE,SAASuH,MAAT,GAAkB;AACvB,UAAIC,MAAM,GAAG,IAAb;;AAEA,UAAIC,QAAQ,GAAG,KAAKC,WAAL,EAAf;;AACA,UAAIC,UAAU,GAAG7K,QAAQ,CAAC,EAAD,EAAK6C,UAAU,CAACiI,kBAAhB,EAAoC,KAAKhK,KAAL,CAAW+J,UAA/C,CAAzB,CAJuB,CAMvB;;;AACA,UAAInG,KAAK,GAAG,KAAKD,KAAL,CAAWC,KAAX,CAAiBsD,IAAjB,EAAZ;AAAA,UACIpD,aAAa,GAAG,KAAKH,KAAL,CAAWG,aAD/B;AAAA,UAEIJ,WAAW,GAAG,KAAKC,KAAL,CAAWD,WAF7B;AAIA,UAAIuG,OAAO,GAAG,KAAKjK,KAAnB;AAAA,UACIkK,WAAW,GAAGD,OAAO,CAACC,WAD1B;AAAA,UAEIC,SAAS,GAAGF,OAAO,CAACG,IAFxB;AAAA,UAGIC,OAAO,GAAGJ,OAAO,CAAC5D,EAHtB;AAAA,UAIIsC,SAAS,GAAGsB,OAAO,CAACtB,SAJxB;AAAA,UAKIpF,MAAM,GAAG0G,OAAO,CAAC1G,MALrB;AAAA,UAMI+G,kBAAkB,GAAGL,OAAO,CAACK,kBANjC;AASA,UAAIC,QAAQ,GAAG,CAAChH,MAAD,GAAUxB,UAAU,CAACyI,qBAAX,CAAiCC,MAA3C,GAAoDH,kBAAnE;AAEA,UAAII,QAAQ,GAAG,CAAC,KAAK1K,KAAL,CAAW+E,QAAZ,GAAuBpE,OAAO,CAACuB,OAAR,CAAgByI,aAAhB,CACpC,KADoC,EAEpC;AAAEC,QAAAA,SAAS,EAAEb,UAAU,CAACW;AAAxB,OAFoC,EAGpC/J,OAAO,CAACuB,OAAR,CAAgByI,aAAhB,CAA8B,OAA9B,EAAuC;AACrCE,QAAAA,GAAG,EAAE,SAASA,GAAT,CAAaC,KAAb,EAAoB;AACvBlB,UAAAA,MAAM,CAAChD,SAAP,GAAmBkE,KAAnB;AACD,SAHoC;AAIrCF,QAAAA,SAAS,EAAEb,UAAU,CAACgB,aAJe;AAKrCC,QAAAA,IAAI,EAAE,MAL+B;AAMrCd,QAAAA,WAAW,EAAEA,WANwB;AAOrC,sBAAcA,WAPuB;AAQrCe,QAAAA,OAAO,EAAE,KAAK9G,WARuB;AASrC+G,QAAAA,MAAM,EAAE,KAAK7G,UATwB;AAUrC8G,QAAAA,QAAQ,EAAE,KAAK5G,YAVsB;AAWrC6G,QAAAA,SAAS,EAAE,KAAK9G,aAXqB;AAYrC+G,QAAAA,OAAO,EAAE,KAAK5G,WAZuB;AAarC2F,QAAAA,IAAI,EAAED,SAb+B;AAcrC9D,QAAAA,EAAE,EAAEgE,OAdiC;AAerC1B,QAAAA,SAAS,EAAEA,SAf0B;AAgBrCvG,QAAAA,KAAK,EAAE,KAAKpC,KAAL,CAAWsL;AAhBmB,OAAvC,CAHoC,EAqBpC3K,OAAO,CAACuB,OAAR,CAAgByI,aAAhB,CAA8BpJ,aAAa,CAACW,OAA5C,EAAqD;AACnD0B,QAAAA,KAAK,EAAEA,KAD4C;AAEnDF,QAAAA,WAAW,EAAEA,WAFsC;AAGnDoE,QAAAA,UAAU,EAAE,KAAK9H,KAAL,CAAW8H,UAH4B;AAInDhE,QAAAA,aAAa,EAAEA,aAJoC;AAKnDyH,QAAAA,WAAW,EAAE,KAAK5G,qBALiC;AAMnD6G,QAAAA,WAAW,EAAE,KAAK9G,qBANiC;AAOnD+G,QAAAA,cAAc,EAAE,KAAKzL,KAAL,CAAWyL,cAPwB;AAQnDC,QAAAA,uBAAuB,EAAE,KAAK1L,KAAL,CAAW0L,uBARe;AASnD7H,QAAAA,SAAS,EAAE,KAAKF,KAAL,CAAWE,SAT6B;AAUnDkG,QAAAA,UAAU,EAAEA,UAVuC;AAWnD4B,QAAAA,gBAAgB,EAAE,KAAK3L,KAAL,CAAW2L;AAXsB,OAArD,CArBoC,CAAvB,GAkCX,IAlCJ;AAoCA,aAAOhL,OAAO,CAACuB,OAAR,CAAgByI,aAAhB,CACL,KADK,EAEL;AACEC,QAAAA,SAAS,EAAE,CAAC,GAAGjJ,YAAY,CAACO,OAAjB,EAA0B6H,UAAU,CAAC5D,IAArC,EAA2C,oBAA3C,CADb;AAEE0E,QAAAA,GAAG,EAAE,KAAK5G;AAFZ,OAFK,EAKLtD,OAAO,CAACuB,OAAR,CAAgByI,aAAhB,CACE,GADF,EAEE;AACEiB,QAAAA,IAAI,EAAE,OADR;AAEEhB,QAAAA,SAAS,EAAE,SAFb;AAGEiB,QAAAA,KAAK,EAAE;AACLtB,UAAAA,QAAQ,EAAE,UADL;AAELuB,UAAAA,QAAQ,EAAE,QAFL;AAGLC,UAAAA,IAAI,EAAE,eAHD;AAILC,UAAAA,MAAM,EAAE,MAJH;AAKLC,UAAAA,OAAO,EAAE,CALJ;AAMLC,UAAAA,KAAK,EAAE,KANF;AAOLC,UAAAA,MAAM,EAAE,KAPH;AAQLC,UAAAA,MAAM,EAAE;AARH;AAHT,OAFF,EAeE,KAAKzI,KAAL,CAAWK,cAfb,CALK,EAsBLuG,QAAQ,KAAKxI,UAAU,CAACyI,qBAAX,CAAiC6B,GAA9C,IAAqD3B,QAtBhD,EAuBL/J,OAAO,CAACuB,OAAR,CAAgByI,aAAhB,CACE,KADF,EAEE;AAAEC,QAAAA,SAAS,EAAEb,UAAU,CAACuC;AAAxB,OAFF,EAGEzC,QAHF,EAIEU,QAAQ,KAAKxI,UAAU,CAACyI,qBAAX,CAAiC+B,MAA9C,IAAwD7B,QAJ1D,CAvBK,EA6BLH,QAAQ,KAAKxI,UAAU,CAACyI,qBAAX,CAAiCC,MAA9C,IAAwDC,QA7BnD,CAAP;AA+BD;AA3FA,GAhOqB,CAAZ,CAAZ;;AA8TA,SAAOxH,SAAP;AACD,CArWe,CAqWdzC,MAAM,CAAC+L,SArWO,CAAhB;;AAuWAtJ,SAAS,CAACuJ,SAAV,GAAsB;AACpBvC,EAAAA,WAAW,EAAEzI,WAAW,CAACS,OAAZ,CAAoBwK,MADb;AAEpB5E,EAAAA,UAAU,EAAErG,WAAW,CAACS,OAAZ,CAAoBwK,MAFZ;AAGpBhJ,EAAAA,WAAW,EAAEjC,WAAW,CAACS,OAAZ,CAAoByK,OAApB,CAA4BlL,WAAW,CAACS,OAAZ,CAAoB0K,KAApB,CAA0B;AACjEvG,IAAAA,EAAE,EAAE5E,WAAW,CAACS,OAAZ,CAAoBwK,MAApB,CAA2BG;AADkC,GAA1B,CAA5B,CAHO;AAMpBpF,EAAAA,UAAU,EAAEhG,WAAW,CAACS,OAAZ,CAAoByK,OAApB,CAA4BlL,WAAW,CAACS,OAAZ,CAAoB4K,MAAhD,CANQ;AAOpBhI,EAAAA,SAAS,EAAErD,WAAW,CAACS,OAAZ,CAAoB6K,IAPX;AAQpBxJ,EAAAA,MAAM,EAAE9B,WAAW,CAACS,OAAZ,CAAoB6K,IARR;AAQc;AAClCzC,EAAAA,kBAAkB,EAAE7I,WAAW,CAACS,OAAZ,CAAoB8K,KAApB,CAA0B,CAACjL,UAAU,CAACyI,qBAAX,CAAiC+B,MAAlC,EAA0CxK,UAAU,CAACyI,qBAAX,CAAiC6B,GAA3E,EAAgFtK,UAAU,CAACyI,qBAAX,CAAiCC,MAAjH,CAA1B,CATA;AAUpB5E,EAAAA,YAAY,EAAEpE,WAAW,CAACS,OAAZ,CAAoB+K,IAVd;AAWpBC,EAAAA,cAAc,EAAEzL,WAAW,CAACS,OAAZ,CAAoB+K,IAXhB;AAYpBvD,EAAAA,UAAU,EAAEjI,WAAW,CAACS,OAAZ,CAAoB+K,IAZZ;AAapB3H,EAAAA,uBAAuB,EAAE7D,WAAW,CAACS,OAAZ,CAAoB+K,IAbzB;AAcpBlG,EAAAA,cAAc,EAAEtF,WAAW,CAACS,OAAZ,CAAoB+K,IAdhB;AAepBhF,EAAAA,yBAAyB,EAAExG,WAAW,CAACS,OAAZ,CAAoB6K,IAf3B;AAgBpB1E,EAAAA,sBAAsB,EAAE5G,WAAW,CAACS,OAAZ,CAAoB6K,IAhBxB;AAiBpBI,EAAAA,aAAa,EAAE1L,WAAW,CAACS,OAAZ,CAAoB6K,IAjBf;AAkBpB9F,EAAAA,iBAAiB,EAAExF,WAAW,CAACS,OAAZ,CAAoB+K,IAlBnB;AAmBpB9F,EAAAA,gBAAgB,EAAE1F,WAAW,CAACS,OAAZ,CAAoB+K,IAnBlB;AAoBpB7F,EAAAA,eAAe,EAAE3F,WAAW,CAACS,OAAZ,CAAoB+K,IApBjB;AAqBpBxB,EAAAA,cAAc,EAAEhK,WAAW,CAACS,OAAZ,CAAoB4K,MArBhB;AAsBpBpB,EAAAA,uBAAuB,EAAEjK,WAAW,CAACS,OAAZ,CAAoB+K,IAtBzB;AAuBpBG,EAAAA,eAAe,EAAE3L,WAAW,CAACS,OAAZ,CAAoB+K,IAvBjB;AAwBpBI,EAAAA,YAAY,EAAE5L,WAAW,CAACS,OAAZ,CAAoBoL,SAApB,CAA8B,CAAC7L,WAAW,CAACS,OAAZ,CAAoB6K,IAArB,EAA2BtL,WAAW,CAACS,OAAZ,CAAoB4K,MAA/C,CAA9B,CAxBM;AAyBpB/H,EAAAA,QAAQ,EAAEtD,WAAW,CAACS,OAAZ,CAAoB6K,IAzBV;AA0BpBhD,EAAAA,UAAU,EAAEtI,WAAW,CAACS,OAAZ,CAAoBqL,MA1BZ;AA2BpBnD,EAAAA,IAAI,EAAE3I,WAAW,CAACS,OAAZ,CAAoBwK,MA3BN;AA4BpBrG,EAAAA,EAAE,EAAE5E,WAAW,CAACS,OAAZ,CAAoBwK,MA5BJ;AA6BpB/D,EAAAA,SAAS,EAAElH,WAAW,CAACS,OAAZ,CAAoB4K,MA7BX;AA8BpBxB,EAAAA,UAAU,EAAE7J,WAAW,CAACS,OAAZ,CAAoBwK,MA9BZ;AA+BpBvG,EAAAA,IAAI,EAAE1E,WAAW,CAACS,OAAZ,CAAoByK,OAApB,CAA4BlL,WAAW,CAACS,OAAZ,CAAoB0K,KAApB,CAA0B;AAC1DvG,IAAAA,EAAE,EAAE5E,WAAW,CAACS,OAAZ,CAAoBwK,MAApB,CAA2BG,UAD2B;AAE1DjC,IAAAA,SAAS,EAAEnJ,WAAW,CAACS,OAAZ,CAAoBwK;AAF2B,GAA1B,CAA5B,CA/Bc;AAmCpBc,EAAAA,WAAW,EAAE/L,WAAW,CAACS,OAAZ,CAAoB6K,IAnCb;AAoCpBpB,EAAAA,gBAAgB,EAAElK,WAAW,CAACS,OAAZ,CAAoB+K;AApClB,CAAtB;AAsCA/J,SAAS,CAACuK,YAAV,GAAyB;AACvBvD,EAAAA,WAAW,EAAEnI,UAAU,CAAC2L,mBADD;AAEvB5F,EAAAA,UAAU,EAAE/F,UAAU,CAAC4L,mBAFA;AAGvBjK,EAAAA,WAAW,EAAE,EAHU;AAIvB+D,EAAAA,UAAU,EAAE,CAAC1F,UAAU,CAACwF,IAAX,CAAgBqG,KAAjB,EAAwB7L,UAAU,CAACwF,IAAX,CAAgBK,GAAxC,CAJW;AAKvB9C,EAAAA,SAAS,EAAE,IALY;AAMvBvB,EAAAA,MAAM,EAAE,IANe;AAMT;AACd+G,EAAAA,kBAAkB,EAAEvI,UAAU,CAACyI,qBAAX,CAAiC+B,MAP9B;AAQvB1G,EAAAA,YAAY,EAAE1E,MAAM,CAACe,OARE;AASvBgL,EAAAA,cAAc,EAAE/L,MAAM,CAACe,OATA;AAUvB+F,EAAAA,yBAAyB,EAAE,IAVJ;AAWvBI,EAAAA,sBAAsB,EAAE,IAXD;AAYvBgF,EAAAA,YAAY,EAAE,KAZS;AAavBtI,EAAAA,QAAQ,EAAE,KAba;AAcvByI,EAAAA,WAAW,EAAE,IAdU;AAevBL,EAAAA,aAAa,EAAE,IAfQ;AAgBvBhH,EAAAA,IAAI,EAAE;AAhBiB,CAAzB;;AAmBA,IAAI7C,gBAAgB,GAAG,SAASA,gBAAT,GAA4B;AACjD,MAAIuK,MAAM,GAAG,IAAb;;AAEA,OAAKnI,aAAL,GAAqB,UAAU9B,KAAV,EAAiB6B,IAAjB,EAAuB;AAC1C,WAAOA,IAAI,CAACoI,MAAM,CAAC7N,KAAP,CAAa8H,UAAd,CAAJ,CAA8BgG,WAA9B,GAA4CpG,OAA5C,CAAoD9D,KAAK,CAACkK,WAAN,EAApD,CAAP;AACD,GAFD;;AAIA,OAAK9I,kBAAL,GAA0B,YAAY;AACpC6I,IAAAA,MAAM,CAAC/G,QAAP,CAAgB;AAAElD,MAAAA,KAAK,EAAE;AAAT,KAAhB;;AACA,QAAIiK,MAAM,CAACjH,SAAX,EAAsB;AACpBiH,MAAAA,MAAM,CAACjH,SAAP,CAAiBxE,KAAjB,GAAyB,EAAzB;;AACAyL,MAAAA,MAAM,CAACjH,SAAP,CAAiBC,KAAjB;AACD;AACF,GAND;;AAQA,OAAK1B,iBAAL,GAAyB,YAAY;AACnC,QAAI4I,OAAO,GAAGF,MAAM,CAAClK,KAArB;AAAA,QACIC,KAAK,GAAGmK,OAAO,CAACnK,KADpB;AAAA,QAEIE,aAAa,GAAGiK,OAAO,CAACjK,aAF5B;;AAIA,QAAIJ,WAAW,GAAGmK,MAAM,CAACzI,mBAAP,CAA2BxB,KAA3B,EAAkCiK,MAAM,CAAC7N,KAAP,CAAa0D,WAA/C,CAAlB;;AAEAmK,IAAAA,MAAM,CAAC/G,QAAP,CAAgB;AACdpD,MAAAA,WAAW,EAAEA,WADC;AAEdI,MAAAA,aAAa,EAAEA,aAAa,IAAIJ,WAAW,CAAClE,MAA7B,GAAsCkE,WAAW,CAAClE,MAAZ,GAAqB,CAA3D,GAA+DsE;AAFhE,KAAhB;AAID,GAXD;;AAaA,OAAKiE,MAAL,GAAc,UAAUuB,GAAV,EAAe;AAC3B,QAAI0E,OAAO,GAAGH,MAAM,CAAC7N,KAArB;AAAA,QACImG,IAAI,GAAG6H,OAAO,CAAC7H,IADnB;AAAA,QAEI2B,UAAU,GAAGkG,OAAO,CAAClG,UAFzB;AAAA,QAGI0F,WAAW,GAAGQ,OAAO,CAACR,WAH1B;;AAKA,QAAI,CAAClE,GAAG,CAACjD,EAAL,IAAW,CAACiD,GAAG,CAACxB,UAAD,CAAnB,EAAiC;AAC/B;AACD;;AACD,QAAImG,YAAY,GAAG9H,IAAI,CAAC+H,GAAL,CAAS,UAAU5E,GAAV,EAAe;AACzC,aAAOA,GAAG,CAACjD,EAAJ,CAAOyH,WAAP,EAAP;AACD,KAFkB,CAAnB,CAT2B,CAa3B;;AACA,QAAIN,WAAW,IAAIS,YAAY,CAACvG,OAAb,CAAqB4B,GAAG,CAACjD,EAAJ,CAAOyH,WAAP,EAArB,KAA8C,CAAjE,EAAoE;AAClE;AACD;;AACD,QAAID,MAAM,CAAC7N,KAAP,CAAaqN,YAAjB,EAA+B;AAC7B,UAAIc,eAAe,GAAGN,MAAM,CAACzI,mBAAP,CAA2BkE,GAAG,CAACxB,UAAD,CAA9B,EAA4C+F,MAAM,CAAC7N,KAAP,CAAa0D,WAAzD,CAAtB;;AAEA,UAAImK,MAAM,CAAC7N,KAAP,CAAaqN,YAAb,KAA8B,CAA9B,IAAmCc,eAAe,CAAC3O,MAAhB,KAA2B,CAA9D,IAAmEqO,MAAM,CAAC7N,KAAP,CAAaqN,YAAb,KAA8B,IAA9B,IAAsCc,eAAe,CAAC3O,MAA7H,EAAqI;AACnI8J,QAAAA,GAAG,GAAG6E,eAAe,CAAC,CAAD,CAArB;AACD;AACF,KAvB0B,CAyB3B;;;AACAN,IAAAA,MAAM,CAAC7N,KAAP,CAAakN,cAAb,CAA4B5D,GAA5B,EA1B2B,CA4B3B;;;AACAuE,IAAAA,MAAM,CAAC/G,QAAP,CAAgB;AACdlD,MAAAA,KAAK,EAAE,EADO;AAEdG,MAAAA,aAAa,EAAE,KAFD;AAGdD,MAAAA,aAAa,EAAE,CAAC;AAHF,KAAhB;;AAMA+J,IAAAA,MAAM,CAAC7I,kBAAP;AACD,GApCD;;AAsCA,OAAK8E,WAAL,GAAmB,YAAY;AAC7B,QAAIsE,OAAO,GAAGP,MAAM,CAAC7N,KAArB;AAAA,QACI+J,UAAU,GAAGqE,OAAO,CAACrE,UADzB;AAAA,QAEI5D,IAAI,GAAGiI,OAAO,CAACjI,IAFnB;AAAA,QAGI2B,UAAU,GAAGsG,OAAO,CAACtG,UAHzB;AAAA,QAIIsF,eAAe,GAAGgB,OAAO,CAAChB,eAJ9B;AAAA,QAKIrI,QAAQ,GAAGqJ,OAAO,CAACrJ,QALvB;AAAA,QAMIoI,aAAa,GAAGiB,OAAO,CAACjB,aAN5B;AASA,QAAI3I,OAAO,GAAG2I,aAAa,GAAGU,MAAM,CAACrJ,OAAV,GAAoB,IAA/C;AACA,WAAO2B,IAAI,CAAC+H,GAAL,CAAS,UAAU5E,GAAV,EAAexD,KAAf,EAAsB;AACpC,aAAOnF,OAAO,CAACuB,OAAR,CAAgByI,aAAhB,CAA8B9I,KAAK,CAACK,OAApC,EAA6C;AAClDxC,QAAAA,GAAG,EAAEoG,KAD6C;AAElDA,QAAAA,KAAK,EAAEA,KAF2C;AAGlDwD,QAAAA,GAAG,EAAEA,GAH6C;AAIlDxB,QAAAA,UAAU,EAAEA,UAJsC;AAKlDuG,QAAAA,QAAQ,EAAER,MAAM,CAAChI,YAAP,CAAoBzB,IAApB,CAAyByJ,MAAzB,EAAiC/H,KAAjC,CALwC;AAMlDtB,QAAAA,OAAO,EAAEA,OANyC;AAOlD4I,QAAAA,eAAe,EAAEA,eAPiC;AAQlDkB,QAAAA,YAAY,EAAET,MAAM,CAAC9G,cAAP,CAAsB3C,IAAtB,CAA2ByJ,MAA3B,EAAmC/H,KAAnC,CARoC;AASlDf,QAAAA,QAAQ,EAAEA,QATwC;AAUlDgF,QAAAA,UAAU,EAAE7K,QAAQ,CAAC,EAAD,EAAK6C,UAAU,CAACiI,kBAAhB,EAAoCD,UAApC,CAV8B;AAWlDoD,QAAAA,aAAa,EAAEA;AAXmC,OAA7C,CAAP;AAaD,KAdM,CAAP;AAeD,GA1BD;AA2BD,CA7FD;;AA+FAoB,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,WAAW,EAAE,CAAC,GAAG5N,SAAS,CAAC6N,eAAd,EAA+B3N,sBAAsB,CAACmB,OAAtD,EAA+DgB,SAA/D,CADE;AAEfyL,EAAAA,cAAc,EAAEzL,SAFD;AAGfqE,EAAAA,IAAI,EAAExF,UAAU,CAACwF;AAHF,CAAjB","sourcesContent":["'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDnd = require('react-dnd');\n\nvar _reactDndHtml5Backend = require('react-dnd-html5-backend');\n\nvar _reactDndHtml5Backend2 = _interopRequireDefault(_reactDndHtml5Backend);\n\nvar _isEqual = require('lodash/isEqual');\n\nvar _isEqual2 = _interopRequireDefault(_isEqual);\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _uniq = require('lodash/uniq');\n\nvar _uniq2 = _interopRequireDefault(_uniq);\n\nvar _Suggestions = require('./Suggestions');\n\nvar _Suggestions2 = _interopRequireDefault(_Suggestions);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _Tag = require('./Tag');\n\nvar _Tag2 = _interopRequireDefault(_Tag);\n\nvar _utils = require('./utils');\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n//Constants\n\n\nvar ReactTags = function (_Component) {\n  _inherits(ReactTags, _Component);\n\n  function ReactTags(props) {\n    _classCallCheck(this, ReactTags);\n\n    var _this = _possibleConstructorReturn(this, (ReactTags.__proto__ || Object.getPrototypeOf(ReactTags)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    if (!props.inline) {\n      /* eslint-disable no-console */\n      console.warn('[Deprecation] The inline attribute is deprecated and will be removed in v7.x.x, please use inputFieldPosition instead.');\n      /* eslint-enable no-console */\n    }\n\n    var suggestions = props.suggestions;\n\n    _this.state = {\n      suggestions: suggestions,\n      query: '',\n      isFocused: false,\n      selectedIndex: -1,\n      selectionMode: false,\n      ariaLiveStatus: ''\n    };\n    _this.reactTagsRef = (0, _react.createRef)();\n    _this.handleFocus = _this.handleFocus.bind(_this);\n    _this.handleBlur = _this.handleBlur.bind(_this);\n    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n    _this.handleChange = _this.handleChange.bind(_this);\n    _this.moveTag = _this.moveTag.bind(_this);\n    _this.handlePaste = _this.handlePaste.bind(_this);\n    _this.handleSuggestionHover = _this.handleSuggestionHover.bind(_this);\n    _this.handleSuggestionClick = _this.handleSuggestionClick.bind(_this);\n    return _this;\n  }\n\n  _createClass(ReactTags, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          autofocus = _props.autofocus,\n          readOnly = _props.readOnly;\n\n\n      if (autofocus && !readOnly) {\n        this.resetAndFocusInput();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (!(0, _isEqual2.default)(prevProps.suggestions, this.props.suggestions)) {\n        this.updateSuggestions();\n      }\n    }\n  }, {\n    key: 'filteredSuggestions',\n    value: function filteredSuggestions(query, suggestions) {\n      var _this2 = this;\n\n      if (this.props.handleFilterSuggestions) {\n        return this.props.handleFilterSuggestions(query, suggestions);\n      }\n\n      var exactSuggestions = suggestions.filter(function (item) {\n        return _this2.getQueryIndex(query, item) === 0;\n      });\n      var partialSuggestions = suggestions.filter(function (item) {\n        return _this2.getQueryIndex(query, item) > 0;\n      });\n      return exactSuggestions.concat(partialSuggestions);\n    }\n  }, {\n    key: 'handleDelete',\n    value: function handleDelete(index, event) {\n      event.preventDefault();\n      event.stopPropagation();\n      var currentTags = this.props.tags.slice();\n      var ariaLiveStatus = 'Tag at index ' + index + ' with value ' + currentTags[index].id + ' deleted.';\n      this.props.handleDelete(index, event);\n      var allTags = this.reactTagsRef.current.querySelectorAll('.ReactTags__remove');\n      var nextElementToFocus = void 0,\n          nextIndex = void 0,\n          nextTag = void 0;\n      if (index === 0 && currentTags.length > 1) {\n        nextElementToFocus = allTags[0];\n        nextIndex = 0;\n        nextTag = currentTags[1];\n      } else {\n        nextElementToFocus = allTags[index - 1];\n        nextIndex = index - 1;\n        nextTag = currentTags[nextIndex];\n      }\n      if (!nextElementToFocus) {\n        nextIndex = -1;\n        nextElementToFocus = this.textInput;\n      }\n      if (nextIndex >= 0) {\n        ariaLiveStatus += ' Tag at index ' + nextIndex + ' with value ' + nextTag.id + ' focussed. Press backspace to remove';\n      } else {\n        ariaLiveStatus += 'Input focussed. Press enter to add a new tag';\n      }\n      nextElementToFocus.focus();\n      this.setState({\n        ariaLiveStatus: ariaLiveStatus\n      });\n    }\n  }, {\n    key: 'handleTagClick',\n    value: function handleTagClick(i, e) {\n      if (this.props.handleTagClick) {\n        this.props.handleTagClick(i, e);\n      }\n    }\n  }, {\n    key: 'handleChange',\n    value: function handleChange(e) {\n      if (this.props.handleInputChange) {\n        this.props.handleInputChange(e.target.value);\n      }\n\n      var query = e.target.value.trim();\n\n      this.setState({ query: query }, this.updateSuggestions);\n    }\n  }, {\n    key: 'handleFocus',\n    value: function handleFocus(event) {\n      var value = event.target.value;\n      if (this.props.handleInputFocus) {\n        this.props.handleInputFocus(value);\n      }\n      this.setState({ isFocused: true });\n    }\n  }, {\n    key: 'handleBlur',\n    value: function handleBlur(event) {\n      var value = event.target.value;\n      if (this.props.handleInputBlur) {\n        this.props.handleInputBlur(value);\n        if (this.textInput) {\n          this.textInput.value = '';\n        }\n      }\n      this.setState({ isFocused: false });\n    }\n  }, {\n    key: 'handleKeyDown',\n    value: function handleKeyDown(e) {\n      var _state = this.state,\n          query = _state.query,\n          selectedIndex = _state.selectedIndex,\n          suggestions = _state.suggestions,\n          selectionMode = _state.selectionMode;\n\n      // hide suggestions menu on escape\n\n      if (e.keyCode === _constants.KEYS.ESCAPE) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.setState({\n          selectedIndex: -1,\n          selectionMode: false,\n          suggestions: []\n        });\n      }\n\n      // When one of the terminating keys is pressed, add current query to the tags.\n      // If no text is typed in so far, ignore the action - so we don't end up with a terminating\n      // character typed in.\n      if (this.props.delimiters.indexOf(e.keyCode) !== -1 && !e.shiftKey) {\n        if (e.keyCode !== _constants.KEYS.TAB || query !== '') {\n          e.preventDefault();\n        }\n\n        var selectedQuery = selectionMode && selectedIndex !== -1 ? suggestions[selectedIndex] : _defineProperty({ id: query }, this.props.labelField, query);\n\n        if (selectedQuery !== '') {\n          this.addTag(selectedQuery);\n        }\n      }\n\n      // when backspace key is pressed and query is blank, delete tag\n      if (e.keyCode === _constants.KEYS.BACKSPACE && query === '' && this.props.allowDeleteFromEmptyInput) {\n        this.handleDelete(this.props.tags.length - 1, e);\n      }\n\n      // up arrow\n      if (e.keyCode === _constants.KEYS.UP_ARROW) {\n        e.preventDefault();\n        this.setState({\n          selectedIndex: selectedIndex <= 0 ? suggestions.length - 1 : selectedIndex - 1,\n          selectionMode: true\n        });\n      }\n\n      // down arrow\n      if (e.keyCode === _constants.KEYS.DOWN_ARROW) {\n        e.preventDefault();\n        this.setState({\n          selectedIndex: suggestions.length === 0 ? -1 : (selectedIndex + 1) % suggestions.length,\n          selectionMode: true\n        });\n      }\n    }\n  }, {\n    key: 'handlePaste',\n    value: function handlePaste(e) {\n      var _this3 = this;\n\n      if (!this.props.allowAdditionFromPaste) {\n        return;\n      }\n\n      e.preventDefault();\n\n      var clipboardData = e.clipboardData || window.clipboardData;\n      var clipboardText = clipboardData.getData('text');\n\n      var _props$maxLength = this.props.maxLength,\n          maxLength = _props$maxLength === undefined ? clipboardText.length : _props$maxLength;\n\n\n      var maxTextLength = Math.min(maxLength, clipboardText.length);\n      var pastedText = clipboardData.getData('text').substr(0, maxTextLength);\n\n      // Used to determine how the pasted content is split.\n      var delimiterRegExp = (0, _utils.buildRegExpFromDelimiters)(this.props.delimiters);\n      var tags = pastedText.split(delimiterRegExp);\n\n      // Only add unique tags\n      (0, _uniq2.default)(tags).forEach(function (tag) {\n        return _this3.addTag(_defineProperty({ id: tag }, _this3.props.labelField, tag));\n      });\n    }\n  }, {\n    key: 'handleSuggestionClick',\n    value: function handleSuggestionClick(i) {\n      this.addTag(this.state.suggestions[i]);\n    }\n  }, {\n    key: 'handleSuggestionHover',\n    value: function handleSuggestionHover(i) {\n      this.setState({\n        selectedIndex: i,\n        selectionMode: true\n      });\n    }\n  }, {\n    key: 'moveTag',\n    value: function moveTag(dragIndex, hoverIndex) {\n      var tags = this.props.tags;\n\n      // locate tags\n      var dragTag = tags[dragIndex];\n\n      // call handler with the index of the dragged tag\n      // and the tag that is hovered\n      this.props.handleDrag(dragTag, dragIndex, hoverIndex);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var tagItems = this.getTagItems();\n      var classNames = _extends({}, _constants.DEFAULT_CLASSNAMES, this.props.classNames);\n\n      // get the suggestions for the given query\n      var query = this.state.query.trim(),\n          selectedIndex = this.state.selectedIndex,\n          suggestions = this.state.suggestions;\n\n      var _props2 = this.props,\n          placeholder = _props2.placeholder,\n          inputName = _props2.name,\n          inputId = _props2.id,\n          maxLength = _props2.maxLength,\n          inline = _props2.inline,\n          inputFieldPosition = _props2.inputFieldPosition;\n\n\n      var position = !inline ? _constants.INPUT_FIELD_POSITIONS.BOTTOM : inputFieldPosition;\n\n      var tagInput = !this.props.readOnly ? _react2.default.createElement(\n        'div',\n        { className: classNames.tagInput },\n        _react2.default.createElement('input', {\n          ref: function ref(input) {\n            _this4.textInput = input;\n          },\n          className: classNames.tagInputField,\n          type: 'text',\n          placeholder: placeholder,\n          'aria-label': placeholder,\n          onFocus: this.handleFocus,\n          onBlur: this.handleBlur,\n          onChange: this.handleChange,\n          onKeyDown: this.handleKeyDown,\n          onPaste: this.handlePaste,\n          name: inputName,\n          id: inputId,\n          maxLength: maxLength,\n          value: this.props.inputValue\n        }),\n        _react2.default.createElement(_Suggestions2.default, {\n          query: query,\n          suggestions: suggestions,\n          labelField: this.props.labelField,\n          selectedIndex: selectedIndex,\n          handleClick: this.handleSuggestionClick,\n          handleHover: this.handleSuggestionHover,\n          minQueryLength: this.props.minQueryLength,\n          shouldRenderSuggestions: this.props.shouldRenderSuggestions,\n          isFocused: this.state.isFocused,\n          classNames: classNames,\n          renderSuggestion: this.props.renderSuggestion\n        })\n      ) : null;\n\n      return _react2.default.createElement(\n        'div',\n        {\n          className: (0, _classnames2.default)(classNames.tags, 'react-tags-wrapper'),\n          ref: this.reactTagsRef },\n        _react2.default.createElement(\n          'p',\n          {\n            role: 'alert',\n            className: 'sr-only',\n            style: {\n              position: 'absolute',\n              overflow: 'hidden',\n              clip: 'rect(0 0 0 0)',\n              margin: '-1px',\n              padding: 0,\n              width: '1px',\n              height: '1px',\n              border: 0\n            } },\n          this.state.ariaLiveStatus\n        ),\n        position === _constants.INPUT_FIELD_POSITIONS.TOP && tagInput,\n        _react2.default.createElement(\n          'div',\n          { className: classNames.selected },\n          tagItems,\n          position === _constants.INPUT_FIELD_POSITIONS.INLINE && tagInput\n        ),\n        position === _constants.INPUT_FIELD_POSITIONS.BOTTOM && tagInput\n      );\n    }\n  }]);\n\n  return ReactTags;\n}(_react.Component);\n\nReactTags.propTypes = {\n  placeholder: _propTypes2.default.string,\n  labelField: _propTypes2.default.string,\n  suggestions: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    id: _propTypes2.default.string.isRequired\n  })),\n  delimiters: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  autofocus: _propTypes2.default.bool,\n  inline: _propTypes2.default.bool, // TODO: Remove in v7.x.x\n  inputFieldPosition: _propTypes2.default.oneOf([_constants.INPUT_FIELD_POSITIONS.INLINE, _constants.INPUT_FIELD_POSITIONS.TOP, _constants.INPUT_FIELD_POSITIONS.BOTTOM]),\n  handleDelete: _propTypes2.default.func,\n  handleAddition: _propTypes2.default.func,\n  handleDrag: _propTypes2.default.func,\n  handleFilterSuggestions: _propTypes2.default.func,\n  handleTagClick: _propTypes2.default.func,\n  allowDeleteFromEmptyInput: _propTypes2.default.bool,\n  allowAdditionFromPaste: _propTypes2.default.bool,\n  allowDragDrop: _propTypes2.default.bool,\n  handleInputChange: _propTypes2.default.func,\n  handleInputFocus: _propTypes2.default.func,\n  handleInputBlur: _propTypes2.default.func,\n  minQueryLength: _propTypes2.default.number,\n  shouldRenderSuggestions: _propTypes2.default.func,\n  removeComponent: _propTypes2.default.func,\n  autocomplete: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.number]),\n  readOnly: _propTypes2.default.bool,\n  classNames: _propTypes2.default.object,\n  name: _propTypes2.default.string,\n  id: _propTypes2.default.string,\n  maxLength: _propTypes2.default.number,\n  inputValue: _propTypes2.default.string,\n  tags: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    id: _propTypes2.default.string.isRequired,\n    className: _propTypes2.default.string\n  })),\n  allowUnique: _propTypes2.default.bool,\n  renderSuggestion: _propTypes2.default.func\n};\nReactTags.defaultProps = {\n  placeholder: _constants.DEFAULT_PLACEHOLDER,\n  labelField: _constants.DEFAULT_LABEL_FIELD,\n  suggestions: [],\n  delimiters: [_constants.KEYS.ENTER, _constants.KEYS.TAB],\n  autofocus: true,\n  inline: true, // TODO: Remove in v7.x.x\n  inputFieldPosition: _constants.INPUT_FIELD_POSITIONS.INLINE,\n  handleDelete: _noop2.default,\n  handleAddition: _noop2.default,\n  allowDeleteFromEmptyInput: true,\n  allowAdditionFromPaste: true,\n  autocomplete: false,\n  readOnly: false,\n  allowUnique: true,\n  allowDragDrop: true,\n  tags: []\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.getQueryIndex = function (query, item) {\n    return item[_this5.props.labelField].toLowerCase().indexOf(query.toLowerCase());\n  };\n\n  this.resetAndFocusInput = function () {\n    _this5.setState({ query: '' });\n    if (_this5.textInput) {\n      _this5.textInput.value = '';\n      _this5.textInput.focus();\n    }\n  };\n\n  this.updateSuggestions = function () {\n    var _state2 = _this5.state,\n        query = _state2.query,\n        selectedIndex = _state2.selectedIndex;\n\n    var suggestions = _this5.filteredSuggestions(query, _this5.props.suggestions);\n\n    _this5.setState({\n      suggestions: suggestions,\n      selectedIndex: selectedIndex >= suggestions.length ? suggestions.length - 1 : selectedIndex\n    });\n  };\n\n  this.addTag = function (tag) {\n    var _props3 = _this5.props,\n        tags = _props3.tags,\n        labelField = _props3.labelField,\n        allowUnique = _props3.allowUnique;\n\n    if (!tag.id || !tag[labelField]) {\n      return;\n    }\n    var existingKeys = tags.map(function (tag) {\n      return tag.id.toLowerCase();\n    });\n\n    // Return if tag has been already added\n    if (allowUnique && existingKeys.indexOf(tag.id.toLowerCase()) >= 0) {\n      return;\n    }\n    if (_this5.props.autocomplete) {\n      var possibleMatches = _this5.filteredSuggestions(tag[labelField], _this5.props.suggestions);\n\n      if (_this5.props.autocomplete === 1 && possibleMatches.length === 1 || _this5.props.autocomplete === true && possibleMatches.length) {\n        tag = possibleMatches[0];\n      }\n    }\n\n    // call method to add\n    _this5.props.handleAddition(tag);\n\n    // reset the state\n    _this5.setState({\n      query: '',\n      selectionMode: false,\n      selectedIndex: -1\n    });\n\n    _this5.resetAndFocusInput();\n  };\n\n  this.getTagItems = function () {\n    var _props4 = _this5.props,\n        classNames = _props4.classNames,\n        tags = _props4.tags,\n        labelField = _props4.labelField,\n        removeComponent = _props4.removeComponent,\n        readOnly = _props4.readOnly,\n        allowDragDrop = _props4.allowDragDrop;\n\n\n    var moveTag = allowDragDrop ? _this5.moveTag : null;\n    return tags.map(function (tag, index) {\n      return _react2.default.createElement(_Tag2.default, {\n        key: index,\n        index: index,\n        tag: tag,\n        labelField: labelField,\n        onDelete: _this5.handleDelete.bind(_this5, index),\n        moveTag: moveTag,\n        removeComponent: removeComponent,\n        onTagClicked: _this5.handleTagClick.bind(_this5, index),\n        readOnly: readOnly,\n        classNames: _extends({}, _constants.DEFAULT_CLASSNAMES, classNames),\n        allowDragDrop: allowDragDrop\n      });\n    });\n  };\n};\n\nmodule.exports = {\n  WithContext: (0, _reactDnd.DragDropContext)(_reactDndHtml5Backend2.default)(ReactTags),\n  WithOutContext: ReactTags,\n  KEYS: _constants.KEYS\n};"]},"metadata":{},"sourceType":"script"}