{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('react'), require('prop-types')) : typeof define === 'function' && define.amd ? define(['react', 'prop-types'], factory) : (global = global || self, global.ReactTags = factory(global.React, global.PropTypes));\n})(this, function (React, PropTypes) {\n  'use strict';\n\n  React = React && Object.prototype.hasOwnProperty.call(React, 'default') ? React['default'] : React;\n  PropTypes = PropTypes && Object.prototype.hasOwnProperty.call(PropTypes, 'default') ? PropTypes['default'] : PropTypes;\n\n  function Tag(props) {\n    return React.createElement('button', {\n      type: 'button',\n      className: props.classNames.selectedTag,\n      title: props.removeButtonText,\n      onClick: props.onDelete\n    }, React.createElement('span', {\n      className: props.classNames.selectedTagName\n    }, props.tag.name));\n  }\n\n  var SIZER_STYLES = {\n    position: 'absolute',\n    width: 0,\n    height: 0,\n    visibility: 'hidden',\n    overflow: 'scroll',\n    whiteSpace: 'pre'\n  };\n  var STYLE_PROPS = ['fontSize', 'fontFamily', 'fontWeight', 'fontStyle', 'letterSpacing', 'textTransform'];\n\n  var Input = /*@__PURE__*/function (superclass) {\n    function Input(props) {\n      superclass.call(this, props);\n      this.state = {\n        inputWidth: null\n      };\n      this.input = React.createRef();\n      this.sizer = React.createRef();\n    }\n\n    if (superclass) Input.__proto__ = superclass;\n    Input.prototype = Object.create(superclass && superclass.prototype);\n    Input.prototype.constructor = Input;\n\n    Input.prototype.componentDidMount = function componentDidMount() {\n      if (this.props.autoresize) {\n        this.copyInputStyles();\n        this.updateInputWidth();\n      }\n    };\n\n    Input.prototype.componentDidUpdate = function componentDidUpdate(ref) {\n      var query = ref.query;\n      var placeholder = ref.placeholder;\n\n      if (query !== this.props.query || placeholder !== this.props.placeholder) {\n        this.updateInputWidth();\n      }\n    };\n\n    Input.prototype.copyInputStyles = function copyInputStyles() {\n      var this$1 = this;\n      var inputStyle = window.getComputedStyle(this.input.current);\n      STYLE_PROPS.forEach(function (prop) {\n        this$1.sizer.current.style[prop] = inputStyle[prop];\n      });\n    };\n\n    Input.prototype.updateInputWidth = function updateInputWidth() {\n      var inputWidth;\n\n      if (this.props.autoresize) {\n        // scrollWidth is designed to be fast not accurate.\n        // +2 is completely arbitrary but does the job.\n        inputWidth = Math.ceil(this.sizer.current.scrollWidth) + 2;\n      }\n\n      if (inputWidth !== this.state.inputWidth) {\n        this.setState({\n          inputWidth: inputWidth\n        });\n      }\n    };\n\n    Input.prototype.render = function render() {\n      var ref = this.props;\n      var id = ref.id;\n      var query = ref.query;\n      var ariaLabelText = ref.ariaLabelText;\n      var placeholderText = ref.placeholderText;\n      var expanded = ref.expanded;\n      var classNames = ref.classNames;\n      var inputAttributes = ref.inputAttributes;\n      var inputEventHandlers = ref.inputEventHandlers;\n      var index = ref.index;\n      return React.createElement('div', {\n        className: classNames.searchWrapper\n      }, React.createElement('input', Object.assign({}, inputAttributes, inputEventHandlers, {\n        ref: this.input,\n        value: query,\n        placeholder: placeholderText,\n        className: classNames.searchInput,\n        role: 'combobox',\n        'aria-autocomplete': 'list',\n        'aria-label': ariaLabelText || placeholderText,\n        'aria-owns': id,\n        'aria-activedescendant': index > -1 ? id + \"-\" + index : null,\n        'aria-expanded': expanded,\n        style: {\n          width: this.state.inputWidth\n        }\n      })), React.createElement('div', {\n        ref: this.sizer,\n        style: SIZER_STYLES\n      }, query || placeholderText));\n    };\n\n    return Input;\n  }(React.Component);\n\n  function escapeForRegExp(string) {\n    return string.replace(/[-\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n  }\n\n  function matchAny(string) {\n    return new RegExp(escapeForRegExp(string), 'gi');\n  }\n\n  function matchPartial(string) {\n    return new RegExp(\"(?:^|\\\\s)\" + escapeForRegExp(string), 'i');\n  }\n\n  function matchExact(string) {\n    return new RegExp(\"^\" + escapeForRegExp(string) + \"$\", 'i');\n  }\n\n  function markIt(name, query) {\n    var regexp = matchAny(query);\n    return name.replace(regexp, '<mark>$&</mark>');\n  }\n\n  var DefaultSuggestionComponent = function (ref) {\n    var item = ref.item;\n    var query = ref.query;\n    return React.createElement('span', {\n      dangerouslySetInnerHTML: {\n        __html: markIt(item.name, query)\n      }\n    });\n  };\n\n  var Suggestions = /*@__PURE__*/function (superclass) {\n    function Suggestions() {\n      superclass.apply(this, arguments);\n    }\n\n    if (superclass) Suggestions.__proto__ = superclass;\n    Suggestions.prototype = Object.create(superclass && superclass.prototype);\n    Suggestions.prototype.constructor = Suggestions;\n\n    Suggestions.prototype.onMouseDown = function onMouseDown(item, e) {\n      // focus is shifted on mouse down but calling preventDefault prevents this\n      e.preventDefault();\n      this.props.addTag(item);\n    };\n\n    Suggestions.prototype.render = function render() {\n      var this$1 = this;\n\n      if (!this.props.expanded || !this.props.options.length) {\n        return null;\n      }\n\n      var SuggestionComponent = this.props.suggestionComponent || DefaultSuggestionComponent;\n      var options = this.props.options.map(function (item, index) {\n        var key = this$1.props.id + \"-\" + index;\n        var classNames = [];\n\n        if (this$1.props.index === index) {\n          classNames.push(this$1.props.classNames.suggestionActive);\n        }\n\n        if (item.disabled) {\n          classNames.push(this$1.props.classNames.suggestionDisabled);\n        }\n\n        return React.createElement('li', {\n          id: key,\n          key: key,\n          role: 'option',\n          className: classNames.join(' '),\n          'aria-disabled': item.disabled === true,\n          onMouseDown: this$1.onMouseDown.bind(this$1, item)\n        }, item.disableMarkIt ? item.name : React.createElement(SuggestionComponent, {\n          item: item,\n          query: this$1.props.query\n        }));\n      });\n      return React.createElement('div', {\n        className: this.props.classNames.suggestions\n      }, React.createElement('ul', {\n        role: 'listbox',\n        id: this.props.id\n      }, options));\n    };\n\n    return Suggestions;\n  }(React.Component);\n\n  var KEYS = {\n    ENTER: 'Enter',\n    TAB: 'Tab',\n    BACKSPACE: 'Backspace',\n    UP_ARROW: 'ArrowUp',\n    UP_ARROW_COMPAT: 'Up',\n    DOWN_ARROW: 'ArrowDown',\n    DOWN_ARROW_COMPAT: 'Down'\n  };\n  var CLASS_NAMES = {\n    root: 'react-tags',\n    rootFocused: 'is-focused',\n    selected: 'react-tags__selected',\n    selectedTag: 'react-tags__selected-tag',\n    selectedTagName: 'react-tags__selected-tag-name',\n    search: 'react-tags__search',\n    searchWrapper: 'react-tags__search-wrapper',\n    searchInput: 'react-tags__search-input',\n    suggestions: 'react-tags__suggestions',\n    suggestionActive: 'is-active',\n    suggestionDisabled: 'is-disabled'\n  };\n\n  function pressDelimiter() {\n    var this$1 = this;\n\n    if (this.state.query.length >= this.props.minQueryLength) {\n      // Check if the user typed in an existing suggestion.\n      var match = this.state.options.findIndex(function (option) {\n        return matchExact(this$1.state.query).test(option.name);\n      });\n      var index = this.state.index === -1 ? match : this.state.index;\n\n      if (index > -1 && this.state.options[index]) {\n        this.addTag(this.state.options[index]);\n      } else if (this.props.allowNew) {\n        this.addTag({\n          name: this.state.query\n        });\n      }\n    }\n  }\n\n  function pressUpKey(e) {\n    e.preventDefault(); // if first item, cycle to the bottom\n\n    var size = this.state.options.length - 1;\n    this.setState({\n      index: this.state.index <= 0 ? size : this.state.index - 1\n    });\n  }\n\n  function pressDownKey(e) {\n    e.preventDefault(); // if last item, cycle to top\n\n    var size = this.state.options.length - 1;\n    this.setState({\n      index: this.state.index >= size ? 0 : this.state.index + 1\n    });\n  }\n\n  function pressBackspaceKey() {\n    // when backspace key is pressed and query is blank, delete the last tag\n    if (!this.state.query.length) {\n      this.deleteTag(this.props.tags.length - 1);\n    }\n  }\n\n  function defaultSuggestionsFilter(item, query) {\n    var regexp = matchPartial(query);\n    return regexp.test(item.name);\n  }\n\n  function getOptions(props, state) {\n    var options;\n\n    if (props.suggestionsTransform) {\n      options = props.suggestionsTransform(state.query, props.suggestions);\n    } else {\n      options = props.suggestions.filter(function (item) {\n        return props.suggestionsFilter(item, state.query);\n      });\n    }\n\n    if (options.length === 0 && props.noSuggestionsText) {\n      options.push({\n        id: 0,\n        name: props.noSuggestionsText,\n        disabled: true,\n        disableMarkIt: true\n      });\n    }\n\n    return options.slice(0, props.maxSuggestionsLength);\n  }\n\n  var ReactTags = /*@__PURE__*/function (superclass) {\n    function ReactTags(props) {\n      superclass.call(this, props);\n      this.state = {\n        query: '',\n        focused: false,\n        index: -1\n      };\n      this.inputEventHandlers = {\n        // Provide a no-op function to the input component to avoid warnings\n        // <https://github.com/i-like-robots/react-tags/issues/135>\n        // <https://github.com/facebook/react/issues/13835>\n        onChange: function () {},\n        onBlur: this.onBlur.bind(this),\n        onFocus: this.onFocus.bind(this),\n        onInput: this.onInput.bind(this),\n        onKeyDown: this.onKeyDown.bind(this)\n      };\n      this.container = React.createRef();\n      this.input = React.createRef();\n      this.suggestions = React.createRef();\n    }\n\n    if (superclass) ReactTags.__proto__ = superclass;\n    ReactTags.prototype = Object.create(superclass && superclass.prototype);\n    ReactTags.prototype.constructor = ReactTags;\n\n    ReactTags.prototype.onInput = function onInput(e) {\n      var query = e.target.value;\n\n      if (this.props.onInput) {\n        this.props.onInput(query);\n      } // NOTE: This test is a last resort for soft keyboards and browsers which do not\n      // support `KeyboardEvent.key`.\n      // <https://bugs.chromium.org/p/chromium/issues/detail?id=763559>\n      // <https://bugs.chromium.org/p/chromium/issues/detail?id=118639>\n\n\n      if (query.length === this.state.query.length + 1 && this.props.delimiters.indexOf(query.slice(-1)) > -1) {\n        pressDelimiter.call(this);\n      } else if (query !== this.state.query) {\n        this.setState({\n          query: query\n        });\n      }\n    };\n\n    ReactTags.prototype.onKeyDown = function onKeyDown(e) {\n      // when one of the terminating keys is pressed, add current query to the tags\n      if (this.props.delimiters.indexOf(e.key) > -1) {\n        if (this.state.query || this.state.index > -1) {\n          e.preventDefault();\n        }\n\n        pressDelimiter.call(this);\n      } // when backspace key is pressed and query is blank, delete the last tag\n\n\n      if (e.key === KEYS.BACKSPACE && this.props.allowBackspace) {\n        pressBackspaceKey.call(this, e);\n      }\n\n      if (e.key === KEYS.UP_ARROW || e.key === KEYS.UP_ARROW_COMPAT) {\n        pressUpKey.call(this, e);\n      }\n\n      if (e.key === KEYS.DOWN_ARROW || e.key === KEYS.DOWN_ARROW_COMPAT) {\n        pressDownKey.call(this, e);\n      }\n    };\n\n    ReactTags.prototype.onClick = function onClick(e) {\n      if (document.activeElement !== e.target) {\n        this.input.current.input.current.focus();\n      }\n    };\n\n    ReactTags.prototype.onBlur = function onBlur() {\n      this.setState({\n        focused: false,\n        index: -1\n      });\n\n      if (this.props.onBlur) {\n        this.props.onBlur();\n      }\n\n      if (this.props.addOnBlur) {\n        pressDelimiter.call(this);\n      }\n    };\n\n    ReactTags.prototype.onFocus = function onFocus() {\n      this.setState({\n        focused: true\n      });\n\n      if (this.props.onFocus) {\n        this.props.onFocus();\n      }\n    };\n\n    ReactTags.prototype.onDeleteTag = function onDeleteTag(index, event) {\n      // Because we'll destroy the element with cursor focus we need to ensure\n      // it does not get lost and move it to the next interactive element\n      if (this.container.current) {\n        var interactiveEls = this.container.current.querySelectorAll('a,button,input');\n        var currentEl = Array.prototype.findIndex.call(interactiveEls, function (element) {\n          return element === event.currentTarget;\n        });\n        var nextEl = interactiveEls[currentEl - 1] || interactiveEls[currentEl + 1];\n\n        if (nextEl) {\n          nextEl.focus();\n        }\n      }\n\n      this.deleteTag(index);\n    };\n\n    ReactTags.prototype.addTag = function addTag(tag) {\n      if (tag.disabled) {\n        return;\n      }\n\n      if (typeof this.props.onValidate === 'function' && !this.props.onValidate(tag)) {\n        return;\n      }\n\n      this.props.onAddition(tag);\n      this.clearInput();\n    };\n\n    ReactTags.prototype.deleteTag = function deleteTag(i) {\n      this.props.onDelete(i);\n    };\n\n    ReactTags.prototype.clearInput = function clearInput() {\n      this.setState({\n        query: '',\n        index: -1\n      });\n    };\n\n    ReactTags.prototype.render = function render() {\n      var this$1 = this;\n      var TagComponent = this.props.tagComponent || Tag;\n      var expanded = this.state.focused && this.state.query.length >= this.props.minQueryLength;\n      var classNames = [this.props.classNames.root];\n      this.state.focused && classNames.push(this.props.classNames.rootFocused);\n      return React.createElement('div', {\n        ref: this.container,\n        className: classNames.join(' '),\n        onClick: this.onClick.bind(this)\n      }, React.createElement('div', {\n        className: this.props.classNames.selected,\n        'aria-relevant': 'additions removals',\n        'aria-live': 'polite'\n      }, this.props.tags.map(function (tag, i) {\n        return React.createElement(TagComponent, {\n          key: i,\n          tag: tag,\n          removeButtonText: this$1.props.removeButtonText,\n          classNames: this$1.props.classNames,\n          onDelete: this$1.onDeleteTag.bind(this$1, i)\n        });\n      })), React.createElement('div', {\n        className: this.props.classNames.search\n      }, React.createElement(Input, Object.assign({}, this.state, {\n        id: this.props.id,\n        ref: this.input,\n        classNames: this.props.classNames,\n        inputAttributes: this.props.inputAttributes,\n        inputEventHandlers: this.inputEventHandlers,\n        autoresize: this.props.autoresize,\n        expanded: expanded,\n        placeholderText: this.props.placeholderText,\n        ariaLabelText: this.props.ariaLabelText\n      })), React.createElement(Suggestions, Object.assign({}, this.state, {\n        id: this.props.id,\n        ref: this.suggestions,\n        classNames: this.props.classNames,\n        expanded: expanded,\n        addTag: this.addTag.bind(this),\n        suggestionComponent: this.props.suggestionComponent\n      }))));\n    };\n\n    ReactTags.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n      if (state.prevQuery !== state.query || state.prevSuggestions !== props.suggestions) {\n        return {\n          prevQuery: state.query,\n          prevSuggestions: props.suggestions,\n          options: getOptions(props, state)\n        };\n      }\n\n      return null;\n    };\n\n    return ReactTags;\n  }(React.Component);\n\n  ReactTags.defaultProps = {\n    id: 'ReactTags',\n    tags: [],\n    placeholderText: 'Add new tag',\n    removeButtonText: 'Click to remove tag',\n    noSuggestionsText: null,\n    suggestions: [],\n    suggestionsFilter: defaultSuggestionsFilter,\n    suggestionsTransform: null,\n    autoresize: true,\n    classNames: CLASS_NAMES,\n    delimiters: [KEYS.TAB, KEYS.ENTER],\n    minQueryLength: 2,\n    maxSuggestionsLength: 6,\n    allowNew: false,\n    allowBackspace: true,\n    addOnBlur: false,\n    tagComponent: null,\n    suggestionComponent: null,\n    inputAttributes: {}\n  };\n  ReactTags.propTypes = {\n    id: PropTypes.string,\n    tags: PropTypes.arrayOf(PropTypes.object),\n    placeholderText: PropTypes.string,\n    ariaLabelText: PropTypes.string,\n    removeButtonText: PropTypes.string,\n    noSuggestionsText: PropTypes.string,\n    suggestions: PropTypes.arrayOf(PropTypes.object),\n    suggestionsFilter: PropTypes.func,\n    suggestionsTransform: PropTypes.func,\n    autoresize: PropTypes.bool,\n    delimiters: PropTypes.arrayOf(PropTypes.string),\n    onDelete: PropTypes.func.isRequired,\n    onAddition: PropTypes.func.isRequired,\n    onInput: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func,\n    onValidate: PropTypes.func,\n    minQueryLength: PropTypes.number,\n    maxSuggestionsLength: PropTypes.number,\n    classNames: PropTypes.object,\n    allowNew: PropTypes.bool,\n    allowBackspace: PropTypes.bool,\n    addOnBlur: PropTypes.bool,\n    tagComponent: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n    suggestionComponent: PropTypes.oneOfType([PropTypes.func, PropTypes.element]),\n    inputAttributes: PropTypes.object\n  };\n  return ReactTags;\n});","map":{"version":3,"sources":["D:/nuntium orginal project/nuntium/node_modules/react-tag-autocomplete/dist/ReactTags.umd.js"],"names":["global","factory","exports","module","require","define","amd","self","ReactTags","React","PropTypes","Object","prototype","hasOwnProperty","call","Tag","props","createElement","type","className","classNames","selectedTag","title","removeButtonText","onClick","onDelete","selectedTagName","tag","name","SIZER_STYLES","position","width","height","visibility","overflow","whiteSpace","STYLE_PROPS","Input","superclass","state","inputWidth","input","createRef","sizer","__proto__","create","constructor","componentDidMount","autoresize","copyInputStyles","updateInputWidth","componentDidUpdate","ref","query","placeholder","this$1","inputStyle","window","getComputedStyle","current","forEach","prop","style","Math","ceil","scrollWidth","setState","render","id","ariaLabelText","placeholderText","expanded","inputAttributes","inputEventHandlers","index","searchWrapper","assign","value","searchInput","role","Component","escapeForRegExp","string","replace","matchAny","RegExp","matchPartial","matchExact","markIt","regexp","DefaultSuggestionComponent","item","dangerouslySetInnerHTML","__html","Suggestions","apply","arguments","onMouseDown","e","preventDefault","addTag","options","length","SuggestionComponent","suggestionComponent","map","key","push","suggestionActive","disabled","suggestionDisabled","join","bind","disableMarkIt","suggestions","KEYS","ENTER","TAB","BACKSPACE","UP_ARROW","UP_ARROW_COMPAT","DOWN_ARROW","DOWN_ARROW_COMPAT","CLASS_NAMES","root","rootFocused","selected","search","pressDelimiter","minQueryLength","match","findIndex","option","test","allowNew","pressUpKey","size","pressDownKey","pressBackspaceKey","deleteTag","tags","defaultSuggestionsFilter","getOptions","suggestionsTransform","filter","suggestionsFilter","noSuggestionsText","slice","maxSuggestionsLength","focused","onChange","onBlur","onFocus","onInput","onKeyDown","container","target","delimiters","indexOf","allowBackspace","document","activeElement","focus","addOnBlur","onDeleteTag","event","interactiveEls","querySelectorAll","currentEl","Array","element","currentTarget","nextEl","onValidate","onAddition","clearInput","i","TagComponent","tagComponent","getDerivedStateFromProps","prevQuery","prevSuggestions","defaultProps","propTypes","arrayOf","object","func","bool","isRequired","number","oneOfType"],"mappings":"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","sourcesContent":["(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('react'), require('prop-types')) :\n  typeof define === 'function' && define.amd ? define(['react', 'prop-types'], factory) :\n  (global = global || self, global.ReactTags = factory(global.React, global.PropTypes));\n}(this, (function (React, PropTypes) { 'use strict';\n\n  React = React && Object.prototype.hasOwnProperty.call(React, 'default') ? React['default'] : React;\n  PropTypes = PropTypes && Object.prototype.hasOwnProperty.call(PropTypes, 'default') ? PropTypes['default'] : PropTypes;\n\n  function Tag (props) { return (\n    React.createElement( 'button', { type: 'button', className: props.classNames.selectedTag, title: props.removeButtonText, onClick: props.onDelete },\n      React.createElement( 'span', { className: props.classNames.selectedTagName }, props.tag.name)\n    )\n  ); }\n\n  var SIZER_STYLES = {\n    position: 'absolute',\n    width: 0,\n    height: 0,\n    visibility: 'hidden',\n    overflow: 'scroll',\n    whiteSpace: 'pre'\n  };\n\n  var STYLE_PROPS = [\n    'fontSize',\n    'fontFamily',\n    'fontWeight',\n    'fontStyle',\n    'letterSpacing',\n    'textTransform'\n  ];\n\n  var Input = /*@__PURE__*/(function (superclass) {\n    function Input (props) {\n      superclass.call(this, props);\n      this.state = { inputWidth: null };\n\n      this.input = React.createRef();\n      this.sizer = React.createRef();\n    }\n\n    if ( superclass ) Input.__proto__ = superclass;\n    Input.prototype = Object.create( superclass && superclass.prototype );\n    Input.prototype.constructor = Input;\n\n    Input.prototype.componentDidMount = function componentDidMount () {\n      if (this.props.autoresize) {\n        this.copyInputStyles();\n        this.updateInputWidth();\n      }\n    };\n\n    Input.prototype.componentDidUpdate = function componentDidUpdate (ref) {\n      var query = ref.query;\n      var placeholder = ref.placeholder;\n\n      if (query !== this.props.query || placeholder !== this.props.placeholder) {\n        this.updateInputWidth();\n      }\n    };\n\n    Input.prototype.copyInputStyles = function copyInputStyles () {\n      var this$1 = this;\n\n      var inputStyle = window.getComputedStyle(this.input.current);\n\n      STYLE_PROPS.forEach(function (prop) {\n        this$1.sizer.current.style[prop] = inputStyle[prop];\n      });\n    };\n\n    Input.prototype.updateInputWidth = function updateInputWidth () {\n      var inputWidth;\n\n      if (this.props.autoresize) {\n        // scrollWidth is designed to be fast not accurate.\n        // +2 is completely arbitrary but does the job.\n        inputWidth = Math.ceil(this.sizer.current.scrollWidth) + 2;\n      }\n\n      if (inputWidth !== this.state.inputWidth) {\n        this.setState({ inputWidth: inputWidth });\n      }\n    };\n\n    Input.prototype.render = function render () {\n      var ref = this.props;\n      var id = ref.id;\n      var query = ref.query;\n      var ariaLabelText = ref.ariaLabelText;\n      var placeholderText = ref.placeholderText;\n      var expanded = ref.expanded;\n      var classNames = ref.classNames;\n      var inputAttributes = ref.inputAttributes;\n      var inputEventHandlers = ref.inputEventHandlers;\n      var index = ref.index;\n\n      return (\n        React.createElement( 'div', { className: classNames.searchWrapper },\n          React.createElement( 'input', Object.assign({},\n            inputAttributes, inputEventHandlers, { ref: this.input, value: query, placeholder: placeholderText, className: classNames.searchInput, role: 'combobox', 'aria-autocomplete': 'list', 'aria-label': ariaLabelText || placeholderText, 'aria-owns': id, 'aria-activedescendant': index > -1 ? (id + \"-\" + index) : null, 'aria-expanded': expanded, style: { width: this.state.inputWidth } })),\n          React.createElement( 'div', { ref: this.sizer, style: SIZER_STYLES }, query || placeholderText)\n        )\n      )\n    };\n\n    return Input;\n  }(React.Component));\n\n  function escapeForRegExp (string) {\n    return string.replace(/[-\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')\n  }\n\n  function matchAny (string) {\n    return new RegExp(escapeForRegExp(string), 'gi')\n  }\n\n  function matchPartial (string) {\n    return new RegExp((\"(?:^|\\\\s)\" + (escapeForRegExp(string))), 'i')\n  }\n\n  function matchExact (string) {\n    return new RegExp((\"^\" + (escapeForRegExp(string)) + \"$\"), 'i')\n  }\n\n  function markIt (name, query) {\n    var regexp = matchAny(query);\n    return name.replace(regexp, '<mark>$&</mark>')\n  }\n\n  var DefaultSuggestionComponent = function (ref) {\n    var item = ref.item;\n    var query = ref.query;\n\n    return (\n    React.createElement( 'span', { dangerouslySetInnerHTML: { __html: markIt(item.name, query) } })\n  );\n  };\n\n  var Suggestions = /*@__PURE__*/(function (superclass) {\n    function Suggestions () {\n      superclass.apply(this, arguments);\n    }\n\n    if ( superclass ) Suggestions.__proto__ = superclass;\n    Suggestions.prototype = Object.create( superclass && superclass.prototype );\n    Suggestions.prototype.constructor = Suggestions;\n\n    Suggestions.prototype.onMouseDown = function onMouseDown (item, e) {\n      // focus is shifted on mouse down but calling preventDefault prevents this\n      e.preventDefault();\n      this.props.addTag(item);\n    };\n\n    Suggestions.prototype.render = function render () {\n      var this$1 = this;\n\n      if (!this.props.expanded || !this.props.options.length) {\n        return null\n      }\n\n      var SuggestionComponent = this.props.suggestionComponent || DefaultSuggestionComponent;\n\n      var options = this.props.options.map(function (item, index) {\n        var key = (this$1.props.id) + \"-\" + index;\n        var classNames = [];\n\n        if (this$1.props.index === index) {\n          classNames.push(this$1.props.classNames.suggestionActive);\n        }\n\n        if (item.disabled) {\n          classNames.push(this$1.props.classNames.suggestionDisabled);\n        }\n\n        return (\n          React.createElement( 'li', {\n            id: key, key: key, role: 'option', className: classNames.join(' '), 'aria-disabled': item.disabled === true, onMouseDown: this$1.onMouseDown.bind(this$1, item) },\n            item.disableMarkIt ? item.name\n              : React.createElement( SuggestionComponent, { item: item, query: this$1.props.query })\n          )\n        )\n      });\n\n      return (\n        React.createElement( 'div', { className: this.props.classNames.suggestions },\n          React.createElement( 'ul', { role: 'listbox', id: this.props.id }, options)\n        )\n      )\n    };\n\n    return Suggestions;\n  }(React.Component));\n\n  var KEYS = {\n    ENTER: 'Enter',\n    TAB: 'Tab',\n    BACKSPACE: 'Backspace',\n    UP_ARROW: 'ArrowUp',\n    UP_ARROW_COMPAT: 'Up',\n    DOWN_ARROW: 'ArrowDown',\n    DOWN_ARROW_COMPAT: 'Down'\n  };\n\n  var CLASS_NAMES = {\n    root: 'react-tags',\n    rootFocused: 'is-focused',\n    selected: 'react-tags__selected',\n    selectedTag: 'react-tags__selected-tag',\n    selectedTagName: 'react-tags__selected-tag-name',\n    search: 'react-tags__search',\n    searchWrapper: 'react-tags__search-wrapper',\n    searchInput: 'react-tags__search-input',\n    suggestions: 'react-tags__suggestions',\n    suggestionActive: 'is-active',\n    suggestionDisabled: 'is-disabled'\n  };\n\n  function pressDelimiter () {\n    var this$1 = this;\n\n    if (this.state.query.length >= this.props.minQueryLength) {\n      // Check if the user typed in an existing suggestion.\n      var match = this.state.options.findIndex(function (option) {\n        return matchExact(this$1.state.query).test(option.name)\n      });\n\n      var index = this.state.index === -1 ? match : this.state.index;\n\n      if (index > -1 && this.state.options[index]) {\n        this.addTag(this.state.options[index]);\n      } else if (this.props.allowNew) {\n        this.addTag({ name: this.state.query });\n      }\n    }\n  }\n\n  function pressUpKey (e) {\n    e.preventDefault();\n\n    // if first item, cycle to the bottom\n    var size = this.state.options.length - 1;\n    this.setState({ index: this.state.index <= 0 ? size : this.state.index - 1 });\n  }\n\n  function pressDownKey (e) {\n    e.preventDefault();\n\n    // if last item, cycle to top\n    var size = this.state.options.length - 1;\n    this.setState({ index: this.state.index >= size ? 0 : this.state.index + 1 });\n  }\n\n  function pressBackspaceKey () {\n    // when backspace key is pressed and query is blank, delete the last tag\n    if (!this.state.query.length) {\n      this.deleteTag(this.props.tags.length - 1);\n    }\n  }\n\n  function defaultSuggestionsFilter (item, query) {\n    var regexp = matchPartial(query);\n    return regexp.test(item.name)\n  }\n\n  function getOptions (props, state) {\n    var options;\n\n    if (props.suggestionsTransform) {\n      options = props.suggestionsTransform(state.query, props.suggestions);\n    } else {\n      options = props.suggestions.filter(function (item) { return props.suggestionsFilter(item, state.query); });\n    }\n\n    if (options.length === 0 && props.noSuggestionsText) {\n      options.push({ id: 0, name: props.noSuggestionsText, disabled: true, disableMarkIt: true });\n    }\n\n    return options.slice(0, props.maxSuggestionsLength)\n  }\n\n  var ReactTags = /*@__PURE__*/(function (superclass) {\n    function ReactTags (props) {\n      superclass.call(this, props);\n\n      this.state = {\n        query: '',\n        focused: false,\n        index: -1\n      };\n\n      this.inputEventHandlers = {\n        // Provide a no-op function to the input component to avoid warnings\n        // <https://github.com/i-like-robots/react-tags/issues/135>\n        // <https://github.com/facebook/react/issues/13835>\n        onChange: function () {},\n        onBlur: this.onBlur.bind(this),\n        onFocus: this.onFocus.bind(this),\n        onInput: this.onInput.bind(this),\n        onKeyDown: this.onKeyDown.bind(this)\n      };\n\n      this.container = React.createRef();\n      this.input = React.createRef();\n      this.suggestions = React.createRef();\n    }\n\n    if ( superclass ) ReactTags.__proto__ = superclass;\n    ReactTags.prototype = Object.create( superclass && superclass.prototype );\n    ReactTags.prototype.constructor = ReactTags;\n\n    ReactTags.prototype.onInput = function onInput (e) {\n      var query = e.target.value;\n\n      if (this.props.onInput) {\n        this.props.onInput(query);\n      }\n\n      // NOTE: This test is a last resort for soft keyboards and browsers which do not\n      // support `KeyboardEvent.key`.\n      // <https://bugs.chromium.org/p/chromium/issues/detail?id=763559>\n      // <https://bugs.chromium.org/p/chromium/issues/detail?id=118639>\n      if (\n        query.length === this.state.query.length + 1 &&\n        this.props.delimiters.indexOf(query.slice(-1)) > -1\n      ) {\n        pressDelimiter.call(this);\n      } else if (query !== this.state.query) {\n        this.setState({ query: query });\n      }\n    };\n\n    ReactTags.prototype.onKeyDown = function onKeyDown (e) {\n      // when one of the terminating keys is pressed, add current query to the tags\n      if (this.props.delimiters.indexOf(e.key) > -1) {\n        if (this.state.query || this.state.index > -1) {\n          e.preventDefault();\n        }\n\n        pressDelimiter.call(this);\n      }\n\n      // when backspace key is pressed and query is blank, delete the last tag\n      if (e.key === KEYS.BACKSPACE && this.props.allowBackspace) {\n        pressBackspaceKey.call(this, e);\n      }\n\n      if (e.key === KEYS.UP_ARROW || e.key === KEYS.UP_ARROW_COMPAT) {\n        pressUpKey.call(this, e);\n      }\n\n      if (e.key === KEYS.DOWN_ARROW || e.key === KEYS.DOWN_ARROW_COMPAT) {\n        pressDownKey.call(this, e);\n      }\n    };\n\n    ReactTags.prototype.onClick = function onClick (e) {\n      if (document.activeElement !== e.target) {\n        this.input.current.input.current.focus();\n      }\n    };\n\n    ReactTags.prototype.onBlur = function onBlur () {\n      this.setState({ focused: false, index: -1 });\n\n      if (this.props.onBlur) {\n        this.props.onBlur();\n      }\n\n      if (this.props.addOnBlur) {\n        pressDelimiter.call(this);\n      }\n    };\n\n    ReactTags.prototype.onFocus = function onFocus () {\n      this.setState({ focused: true });\n\n      if (this.props.onFocus) {\n        this.props.onFocus();\n      }\n    };\n\n    ReactTags.prototype.onDeleteTag = function onDeleteTag (index, event) {\n      // Because we'll destroy the element with cursor focus we need to ensure\n      // it does not get lost and move it to the next interactive element\n      if (this.container.current) {\n        var interactiveEls = this.container.current.querySelectorAll('a,button,input');\n\n        var currentEl = Array.prototype.findIndex.call(interactiveEls, function (element) {\n          return element === event.currentTarget\n        });\n\n        var nextEl = interactiveEls[currentEl - 1] || interactiveEls[currentEl + 1];\n\n        if (nextEl) {\n          nextEl.focus();\n        }\n      }\n\n      this.deleteTag(index);\n    };\n\n    ReactTags.prototype.addTag = function addTag (tag) {\n      if (tag.disabled) {\n        return\n      }\n\n      if (typeof this.props.onValidate === 'function' && !this.props.onValidate(tag)) {\n        return\n      }\n\n      this.props.onAddition(tag);\n\n      this.clearInput();\n    };\n\n    ReactTags.prototype.deleteTag = function deleteTag (i) {\n      this.props.onDelete(i);\n    };\n\n    ReactTags.prototype.clearInput = function clearInput () {\n      this.setState({\n        query: '',\n        index: -1\n      });\n    };\n\n    ReactTags.prototype.render = function render () {\n      var this$1 = this;\n\n      var TagComponent = this.props.tagComponent || Tag;\n\n      var expanded = this.state.focused && this.state.query.length >= this.props.minQueryLength;\n      var classNames = [this.props.classNames.root];\n\n      this.state.focused && classNames.push(this.props.classNames.rootFocused);\n\n      return (\n        React.createElement( 'div', { ref: this.container, className: classNames.join(' '), onClick: this.onClick.bind(this) },\n          React.createElement( 'div', {\n            className: this.props.classNames.selected, 'aria-relevant': 'additions removals', 'aria-live': 'polite' },\n            this.props.tags.map(function (tag, i) { return (\n              React.createElement( TagComponent, {\n                key: i, tag: tag, removeButtonText: this$1.props.removeButtonText, classNames: this$1.props.classNames, onDelete: this$1.onDeleteTag.bind(this$1, i) })\n            ); })\n          ),\n          React.createElement( 'div', { className: this.props.classNames.search },\n            React.createElement( Input, Object.assign({},\n              this.state, { id: this.props.id, ref: this.input, classNames: this.props.classNames, inputAttributes: this.props.inputAttributes, inputEventHandlers: this.inputEventHandlers, autoresize: this.props.autoresize, expanded: expanded, placeholderText: this.props.placeholderText, ariaLabelText: this.props.ariaLabelText })),\n            React.createElement( Suggestions, Object.assign({},\n              this.state, { id: this.props.id, ref: this.suggestions, classNames: this.props.classNames, expanded: expanded, addTag: this.addTag.bind(this), suggestionComponent: this.props.suggestionComponent }))\n          )\n        )\n      )\n    };\n\n    ReactTags.getDerivedStateFromProps = function getDerivedStateFromProps (props, state) {\n      if (state.prevQuery !== state.query || state.prevSuggestions !== props.suggestions) {\n        return {\n          prevQuery: state.query,\n          prevSuggestions: props.suggestions,\n          options: getOptions(props, state)\n        }\n      }\n\n      return null\n    };\n\n    return ReactTags;\n  }(React.Component));\n\n  ReactTags.defaultProps = {\n    id: 'ReactTags',\n    tags: [],\n    placeholderText: 'Add new tag',\n    removeButtonText: 'Click to remove tag',\n    noSuggestionsText: null,\n    suggestions: [],\n    suggestionsFilter: defaultSuggestionsFilter,\n    suggestionsTransform: null,\n    autoresize: true,\n    classNames: CLASS_NAMES,\n    delimiters: [KEYS.TAB, KEYS.ENTER],\n    minQueryLength: 2,\n    maxSuggestionsLength: 6,\n    allowNew: false,\n    allowBackspace: true,\n    addOnBlur: false,\n    tagComponent: null,\n    suggestionComponent: null,\n    inputAttributes: {}\n  };\n\n  ReactTags.propTypes = {\n    id: PropTypes.string,\n    tags: PropTypes.arrayOf(PropTypes.object),\n    placeholderText: PropTypes.string,\n    ariaLabelText: PropTypes.string,\n    removeButtonText: PropTypes.string,\n    noSuggestionsText: PropTypes.string,\n    suggestions: PropTypes.arrayOf(PropTypes.object),\n    suggestionsFilter: PropTypes.func,\n    suggestionsTransform: PropTypes.func,\n    autoresize: PropTypes.bool,\n    delimiters: PropTypes.arrayOf(PropTypes.string),\n    onDelete: PropTypes.func.isRequired,\n    onAddition: PropTypes.func.isRequired,\n    onInput: PropTypes.func,\n    onFocus: PropTypes.func,\n    onBlur: PropTypes.func,\n    onValidate: PropTypes.func,\n    minQueryLength: PropTypes.number,\n    maxSuggestionsLength: PropTypes.number,\n    classNames: PropTypes.object,\n    allowNew: PropTypes.bool,\n    allowBackspace: PropTypes.bool,\n    addOnBlur: PropTypes.bool,\n    tagComponent: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.element\n    ]),\n    suggestionComponent: PropTypes.oneOfType([\n      PropTypes.func,\n      PropTypes.element\n    ]),\n    inputAttributes: PropTypes.object\n  };\n\n  return ReactTags;\n\n})));\n"]},"metadata":{},"sourceType":"script"}