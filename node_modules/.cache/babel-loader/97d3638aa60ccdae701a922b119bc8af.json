{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nexports.getUnit = getUnit;\nexports.convertSizeToCssValue = convertSizeToCssValue;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _glamorous = require('glamorous');\n\nvar _glamorous2 = _interopRequireDefault(_glamorous);\n\nvar _Resizer = require('./Resizer');\n\nvar _Resizer2 = _interopRequireDefault(_Resizer);\n\nvar _Pane = require('./Pane');\n\nvar _Pane2 = _interopRequireDefault(_Pane);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar DEFAULT_PANE_SIZE = '1';\nvar DEFAULT_PANE_MIN_SIZE = '0';\nvar DEFAULT_PANE_MAX_SIZE = '100%';\n\nvar ColumnStyle = _glamorous2.default.div({\n  display: 'flex',\n  height: '100%',\n  flexDirection: 'column',\n  flex: 1,\n  outline: 'none',\n  overflow: 'hidden',\n  userSelect: 'text'\n});\n\nvar RowStyle = _glamorous2.default.div({\n  display: 'flex',\n  height: '100%',\n  flexDirection: 'row',\n  flex: 1,\n  outline: 'none',\n  overflow: 'hidden',\n  userSelect: 'text'\n});\n\nfunction convert(str, size) {\n  var tokens = str.match(/([0-9]+)([px|%]*)/);\n  var value = tokens[1];\n  var unit = tokens[2];\n  return toPx(value, unit, size);\n}\n\nfunction toPx(value) {\n  var unit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'px';\n  var size = arguments[2];\n\n  switch (unit) {\n    case '%':\n      {\n        return +(size * value / 100).toFixed(2);\n      }\n\n    default:\n      {\n        return +value;\n      }\n  }\n}\n\nfunction removeNullChildren(children) {\n  return _react2.default.Children.toArray(children).filter(function (c) {\n    return c;\n  });\n}\n\nfunction getUnit(size) {\n  if (size.endsWith('px')) {\n    return 'px';\n  }\n\n  if (size.endsWith('%')) {\n    return '%';\n  }\n\n  return 'ratio';\n}\n\nfunction convertSizeToCssValue(value, resizersSize) {\n  if (getUnit(value) !== '%') {\n    return value;\n  }\n\n  if (!resizersSize) {\n    return value;\n  }\n\n  var idx = value.search('%');\n  var percent = value.slice(0, idx) / 100;\n\n  if (percent === 0) {\n    return value;\n  }\n\n  return 'calc(' + value + ' - ' + resizersSize + 'px*' + percent + ')';\n}\n\nfunction convertToUnit(size, unit, containerSize) {\n  switch (unit) {\n    case '%':\n      return (size / containerSize * 100).toFixed(2) + '%';\n\n    case 'px':\n      return size.toFixed(2) + 'px';\n\n    case 'ratio':\n      return (size * 100).toFixed(0);\n  }\n}\n\nvar SplitPane = function (_Component) {\n  _inherits(SplitPane, _Component);\n\n  function SplitPane(props) {\n    _classCallCheck(this, SplitPane);\n\n    var _this = _possibleConstructorReturn(this, (SplitPane.__proto__ || Object.getPrototypeOf(SplitPane)).call(this, props));\n\n    _this.onMouseDown = function (event, resizerIndex) {\n      if (event.button !== 0) {\n        return;\n      }\n\n      event.preventDefault();\n\n      _this.onDown(resizerIndex, event.clientX, event.clientY);\n    };\n\n    _this.onTouchStart = function (event, resizerIndex) {\n      event.preventDefault();\n      var _event$touches$ = event.touches[0],\n          clientX = _event$touches$.clientX,\n          clientY = _event$touches$.clientY;\n\n      _this.onDown(resizerIndex, clientX, clientY);\n    };\n\n    _this.onDown = function (resizerIndex, clientX, clientY) {\n      var _this$props = _this.props,\n          allowResize = _this$props.allowResize,\n          onResizeStart = _this$props.onResizeStart,\n          split = _this$props.split;\n\n      if (!allowResize) {\n        return;\n      }\n\n      _this.resizerIndex = resizerIndex;\n      _this.dimensionsSnapshot = _this.getDimensionsSnapshot(_this.props);\n      _this.startClientX = clientX;\n      _this.startClientY = clientY;\n      document.addEventListener('mousemove', _this.onMouseMove);\n      document.addEventListener('mouseup', _this.onMouseUp);\n      document.addEventListener('touchmove', _this.onTouchMove);\n      document.addEventListener('touchend', _this.onMouseUp);\n      document.addEventListener('touchcancel', _this.onMouseUp);\n\n      if (onResizeStart) {\n        onResizeStart();\n      }\n    };\n\n    _this.onMouseMove = function (event) {\n      event.preventDefault();\n\n      _this.onMove(event.clientX, event.clientY);\n    };\n\n    _this.onTouchMove = function (event) {\n      event.preventDefault();\n      var _event$touches$2 = event.touches[0],\n          clientX = _event$touches$2.clientX,\n          clientY = _event$touches$2.clientY;\n\n      _this.onMove(clientX, clientY);\n    };\n\n    _this.onMouseUp = function (event) {\n      event.preventDefault();\n      document.removeEventListener('mouseup', _this.onMouseUp);\n      document.removeEventListener('mousemove', _this.onMouseMove);\n      document.removeEventListener('touchmove', _this.onTouchMove);\n      document.removeEventListener('touchend', _this.onMouseUp);\n      document.addEventListener('touchcancel', _this.onMouseUp);\n\n      if (_this.props.onResizeEnd) {\n        _this.props.onResizeEnd(_this.state.sizes);\n      }\n    };\n\n    _this.setPaneRef = function (idx, el) {\n      if (!_this.paneElements) {\n        _this.paneElements = [];\n      }\n\n      _this.paneElements[idx] = el;\n    };\n\n    _this.state = {\n      sizes: _this.getPanePropSize(props)\n    };\n    return _this;\n  }\n\n  _createClass(SplitPane, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      this.setState({\n        sizes: this.getPanePropSize(nextProps)\n      });\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      document.removeEventListener('mouseup', this.onMouseUp);\n      document.removeEventListener('mousemove', this.onMouseMove);\n      document.removeEventListener('touchmove', this.onTouchMove);\n      document.removeEventListener('touchend', this.onMouseUp);\n    }\n  }, {\n    key: 'getDimensionsSnapshot',\n    value: function getDimensionsSnapshot(props) {\n      var split = props.split;\n      var paneDimensions = this.getPaneDimensions();\n      var splitPaneDimensions = this.splitPane.getBoundingClientRect();\n      var minSizes = this.getPanePropMinMaxSize(props, 'minSize');\n      var maxSizes = this.getPanePropMinMaxSize(props, 'maxSize');\n      var resizersSize = this.getResizersSize(removeNullChildren(this.props.children));\n      var splitPaneSizePx = split === 'vertical' ? splitPaneDimensions.width - resizersSize : splitPaneDimensions.height - resizersSize;\n      var minSizesPx = minSizes.map(function (s) {\n        return convert(s, splitPaneSizePx);\n      });\n      var maxSizesPx = maxSizes.map(function (s) {\n        return convert(s, splitPaneSizePx);\n      });\n      var sizesPx = paneDimensions.map(function (d) {\n        return split === 'vertical' ? d.width : d.height;\n      });\n      return {\n        resizersSize: resizersSize,\n        paneDimensions: paneDimensions,\n        splitPaneSizePx: splitPaneSizePx,\n        minSizesPx: minSizesPx,\n        maxSizesPx: maxSizesPx,\n        sizesPx: sizesPx\n      };\n    }\n  }, {\n    key: 'getPanePropSize',\n    value: function getPanePropSize(props) {\n      return removeNullChildren(props.children).map(function (child) {\n        var value = child.props['size'] || child.props['initialSize'];\n\n        if (value === undefined) {\n          return DEFAULT_PANE_SIZE;\n        }\n\n        return String(value);\n      });\n    }\n  }, {\n    key: 'getPanePropMinMaxSize',\n    value: function getPanePropMinMaxSize(props, key) {\n      return removeNullChildren(props.children).map(function (child) {\n        var value = child.props[key];\n\n        if (value === undefined) {\n          return key === 'maxSize' ? DEFAULT_PANE_MAX_SIZE : DEFAULT_PANE_MIN_SIZE;\n        }\n\n        return value;\n      });\n    }\n  }, {\n    key: 'getPaneDimensions',\n    value: function getPaneDimensions() {\n      return this.paneElements.filter(function (el) {\n        return el;\n      }).map(function (el) {\n        return el.getBoundingClientRect();\n      });\n    }\n  }, {\n    key: 'getSizes',\n    value: function getSizes() {\n      return this.state.sizes;\n    }\n  }, {\n    key: 'onMove',\n    value: function onMove(clientX, clientY) {\n      var _props = this.props,\n          split = _props.split,\n          onChange = _props.onChange;\n      var resizerIndex = this.resizerIndex;\n      var _dimensionsSnapshot = this.dimensionsSnapshot,\n          sizesPx = _dimensionsSnapshot.sizesPx,\n          minSizesPx = _dimensionsSnapshot.minSizesPx,\n          maxSizesPx = _dimensionsSnapshot.maxSizesPx,\n          splitPaneSizePx = _dimensionsSnapshot.splitPaneSizePx,\n          paneDimensions = _dimensionsSnapshot.paneDimensions;\n      var sizeDim = split === 'vertical' ? 'width' : 'height';\n      var primary = paneDimensions[resizerIndex];\n      var secondary = paneDimensions[resizerIndex + 1];\n      var maxSize = primary[sizeDim] + secondary[sizeDim];\n      var primaryMinSizePx = minSizesPx[resizerIndex];\n      var secondaryMinSizePx = minSizesPx[resizerIndex + 1];\n      var primaryMaxSizePx = Math.min(maxSizesPx[resizerIndex], maxSize);\n      var secondaryMaxSizePx = Math.min(maxSizesPx[resizerIndex + 1], maxSize);\n      var moveOffset = split === 'vertical' ? this.startClientX - clientX : this.startClientY - clientY;\n      var primarySizePx = primary[sizeDim] - moveOffset;\n      var secondarySizePx = secondary[sizeDim] + moveOffset;\n      var primaryHasReachedLimit = false;\n      var secondaryHasReachedLimit = false;\n\n      if (primarySizePx < primaryMinSizePx) {\n        primarySizePx = primaryMinSizePx;\n        primaryHasReachedLimit = true;\n      } else if (primarySizePx > primaryMaxSizePx) {\n        primarySizePx = primaryMaxSizePx;\n        primaryHasReachedLimit = true;\n      }\n\n      if (secondarySizePx < secondaryMinSizePx) {\n        secondarySizePx = secondaryMinSizePx;\n        secondaryHasReachedLimit = true;\n      } else if (secondarySizePx > secondaryMaxSizePx) {\n        secondarySizePx = secondaryMaxSizePx;\n        secondaryHasReachedLimit = true;\n      }\n\n      if (primaryHasReachedLimit) {\n        secondarySizePx = primary[sizeDim] + secondary[sizeDim] - primarySizePx;\n      } else if (secondaryHasReachedLimit) {\n        primarySizePx = primary[sizeDim] + secondary[sizeDim] - secondarySizePx;\n      }\n\n      sizesPx[resizerIndex] = primarySizePx;\n      sizesPx[resizerIndex + 1] = secondarySizePx;\n      var sizes = this.getSizes().concat();\n      var updateRatio = void 0;\n      [primarySizePx, secondarySizePx].forEach(function (paneSize, idx) {\n        var unit = getUnit(sizes[resizerIndex + idx]);\n\n        if (unit !== 'ratio') {\n          sizes[resizerIndex + idx] = convertToUnit(paneSize, unit, splitPaneSizePx);\n        } else {\n          updateRatio = true;\n        }\n      });\n\n      if (updateRatio) {\n        var ratioCount = 0;\n        var lastRatioIdx = void 0;\n        sizes = sizes.map(function (size, idx) {\n          if (getUnit(size) === 'ratio') {\n            ratioCount++;\n            lastRatioIdx = idx;\n            return convertToUnit(sizesPx[idx], 'ratio');\n          }\n\n          return size;\n        });\n\n        if (ratioCount === 1) {\n          sizes[lastRatioIdx] = '1';\n        }\n      }\n\n      onChange && onChange(sizes);\n      this.setState({\n        sizes: sizes\n      });\n    }\n  }, {\n    key: 'getResizersSize',\n    value: function getResizersSize(children) {\n      return (children.length - 1) * this.props.resizerSize;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props2 = this.props,\n          children = _props2.children,\n          className = _props2.className,\n          split = _props2.split;\n      var notNullChildren = removeNullChildren(this.props.children);\n      var sizes = this.getSizes();\n      var resizersSize = this.getResizersSize(notNullChildren);\n      var elements = notNullChildren.reduce(function (acc, child, idx) {\n        var pane = void 0;\n        var resizerIndex = idx - 1;\n        var isPane = child.type === _Pane2.default;\n        var paneProps = {\n          index: idx,\n          'data-type': 'Pane',\n          split: split,\n          key: 'Pane-' + idx,\n          innerRef: _this2.setPaneRef,\n          resizersSize: resizersSize,\n          size: sizes[idx]\n        };\n\n        if (isPane) {\n          pane = (0, _react.cloneElement)(child, paneProps);\n        } else {\n          pane = _react2.default.createElement(_Pane2.default, paneProps, child);\n        }\n\n        if (acc.length === 0) {\n          return [].concat(_toConsumableArray(acc), [pane]);\n        } else {\n          var resizer = _react2.default.createElement(_Resizer2.default, {\n            index: resizerIndex,\n            key: 'Resizer-' + resizerIndex,\n            split: split,\n            onMouseDown: _this2.onMouseDown,\n            onTouchStart: _this2.onTouchStart\n          });\n\n          return [].concat(_toConsumableArray(acc), [resizer, pane]);\n        }\n      }, []);\n      var StyleComponent = split === 'vertical' ? RowStyle : ColumnStyle;\n      return _react2.default.createElement(StyleComponent, {\n        className: className,\n        'data-type': 'SplitPane',\n        'data-split': split,\n        innerRef: function innerRef(el) {\n          _this2.splitPane = el;\n        }\n      }, elements);\n    }\n  }]);\n\n  return SplitPane;\n}(_react.Component);\n\nSplitPane.propTypes = {\n  children: _propTypes2.default.arrayOf(_propTypes2.default.node).isRequired,\n  className: _propTypes2.default.string,\n  split: _propTypes2.default.oneOf(['vertical', 'horizontal']),\n  resizerSize: _propTypes2.default.number,\n  onChange: _propTypes2.default.func,\n  onResizeStart: _propTypes2.default.func,\n  onResizeEnd: _propTypes2.default.func\n};\nSplitPane.defaultProps = {\n  split: 'vertical',\n  resizerSize: 1,\n  allowResize: true\n};\nexports.default = SplitPane;","map":{"version":3,"sources":["D:/nuntium orginal project/nuntium/node_modules/react-split-pane/lib/SplitPane.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","getUnit","convertSizeToCssValue","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_glamorous","_glamorous2","_Resizer","_Resizer2","_Pane","_Pane2","obj","__esModule","default","_toConsumableArray","arr","Array","isArray","arr2","from","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","DEFAULT_PANE_SIZE","DEFAULT_PANE_MIN_SIZE","DEFAULT_PANE_MAX_SIZE","ColumnStyle","div","display","height","flexDirection","flex","outline","overflow","userSelect","RowStyle","convert","str","size","tokens","match","unit","toPx","arguments","undefined","toFixed","removeNullChildren","children","Children","toArray","filter","c","endsWith","resizersSize","idx","search","percent","slice","convertToUnit","containerSize","SplitPane","_Component","_this","getPrototypeOf","onMouseDown","event","resizerIndex","button","preventDefault","onDown","clientX","clientY","onTouchStart","_event$touches$","touches","_this$props","allowResize","onResizeStart","split","dimensionsSnapshot","getDimensionsSnapshot","startClientX","startClientY","document","addEventListener","onMouseMove","onMouseUp","onTouchMove","onMove","_event$touches$2","removeEventListener","onResizeEnd","state","sizes","setPaneRef","el","paneElements","getPanePropSize","componentWillReceiveProps","nextProps","setState","componentWillUnmount","paneDimensions","getPaneDimensions","splitPaneDimensions","splitPane","getBoundingClientRect","minSizes","getPanePropMinMaxSize","maxSizes","getResizersSize","splitPaneSizePx","width","minSizesPx","map","s","maxSizesPx","sizesPx","d","child","String","getSizes","_props","onChange","_dimensionsSnapshot","sizeDim","primary","secondary","maxSize","primaryMinSizePx","secondaryMinSizePx","primaryMaxSizePx","Math","min","secondaryMaxSizePx","moveOffset","primarySizePx","secondarySizePx","primaryHasReachedLimit","secondaryHasReachedLimit","concat","updateRatio","forEach","paneSize","ratioCount","lastRatioIdx","resizerSize","render","_this2","_props2","className","notNullChildren","elements","reduce","acc","pane","isPane","type","paneProps","index","innerRef","cloneElement","createElement","resizer","StyleComponent","Component","propTypes","arrayOf","node","isRequired","string","oneOf","number","func","defaultProps"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.getUnit = getUnit;\nexports.convertSizeToCssValue = convertSizeToCssValue;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _glamorous = require('glamorous');\n\nvar _glamorous2 = _interopRequireDefault(_glamorous);\n\nvar _Resizer = require('./Resizer');\n\nvar _Resizer2 = _interopRequireDefault(_Resizer);\n\nvar _Pane = require('./Pane');\n\nvar _Pane2 = _interopRequireDefault(_Pane);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DEFAULT_PANE_SIZE = '1';\nvar DEFAULT_PANE_MIN_SIZE = '0';\nvar DEFAULT_PANE_MAX_SIZE = '100%';\n\nvar ColumnStyle = _glamorous2.default.div({\n  display: 'flex',\n  height: '100%',\n  flexDirection: 'column',\n  flex: 1,\n  outline: 'none',\n  overflow: 'hidden',\n  userSelect: 'text'\n});\n\nvar RowStyle = _glamorous2.default.div({\n  display: 'flex',\n  height: '100%',\n  flexDirection: 'row',\n  flex: 1,\n  outline: 'none',\n  overflow: 'hidden',\n  userSelect: 'text'\n});\n\nfunction convert(str, size) {\n  var tokens = str.match(/([0-9]+)([px|%]*)/);\n  var value = tokens[1];\n  var unit = tokens[2];\n  return toPx(value, unit, size);\n}\n\nfunction toPx(value) {\n  var unit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'px';\n  var size = arguments[2];\n\n  switch (unit) {\n    case '%':\n      {\n        return +(size * value / 100).toFixed(2);\n      }\n    default:\n      {\n        return +value;\n      }\n  }\n}\n\nfunction removeNullChildren(children) {\n  return _react2.default.Children.toArray(children).filter(function (c) {\n    return c;\n  });\n}\n\nfunction getUnit(size) {\n  if (size.endsWith('px')) {\n    return 'px';\n  }\n\n  if (size.endsWith('%')) {\n    return '%';\n  }\n\n  return 'ratio';\n}\n\nfunction convertSizeToCssValue(value, resizersSize) {\n  if (getUnit(value) !== '%') {\n    return value;\n  }\n\n  if (!resizersSize) {\n    return value;\n  }\n\n  var idx = value.search('%');\n  var percent = value.slice(0, idx) / 100;\n  if (percent === 0) {\n    return value;\n  }\n\n  return 'calc(' + value + ' - ' + resizersSize + 'px*' + percent + ')';\n}\n\nfunction convertToUnit(size, unit, containerSize) {\n  switch (unit) {\n    case '%':\n      return (size / containerSize * 100).toFixed(2) + '%';\n    case 'px':\n      return size.toFixed(2) + 'px';\n    case 'ratio':\n      return (size * 100).toFixed(0);\n  }\n}\n\nvar SplitPane = function (_Component) {\n  _inherits(SplitPane, _Component);\n\n  function SplitPane(props) {\n    _classCallCheck(this, SplitPane);\n\n    var _this = _possibleConstructorReturn(this, (SplitPane.__proto__ || Object.getPrototypeOf(SplitPane)).call(this, props));\n\n    _this.onMouseDown = function (event, resizerIndex) {\n      if (event.button !== 0) {\n        return;\n      }\n\n      event.preventDefault();\n\n      _this.onDown(resizerIndex, event.clientX, event.clientY);\n    };\n\n    _this.onTouchStart = function (event, resizerIndex) {\n      event.preventDefault();\n\n      var _event$touches$ = event.touches[0],\n          clientX = _event$touches$.clientX,\n          clientY = _event$touches$.clientY;\n\n\n      _this.onDown(resizerIndex, clientX, clientY);\n    };\n\n    _this.onDown = function (resizerIndex, clientX, clientY) {\n      var _this$props = _this.props,\n          allowResize = _this$props.allowResize,\n          onResizeStart = _this$props.onResizeStart,\n          split = _this$props.split;\n\n\n      if (!allowResize) {\n        return;\n      }\n\n      _this.resizerIndex = resizerIndex;\n      _this.dimensionsSnapshot = _this.getDimensionsSnapshot(_this.props);\n      _this.startClientX = clientX;\n      _this.startClientY = clientY;\n\n      document.addEventListener('mousemove', _this.onMouseMove);\n      document.addEventListener('mouseup', _this.onMouseUp);\n\n      document.addEventListener('touchmove', _this.onTouchMove);\n      document.addEventListener('touchend', _this.onMouseUp);\n      document.addEventListener('touchcancel', _this.onMouseUp);\n\n      if (onResizeStart) {\n        onResizeStart();\n      }\n    };\n\n    _this.onMouseMove = function (event) {\n      event.preventDefault();\n\n      _this.onMove(event.clientX, event.clientY);\n    };\n\n    _this.onTouchMove = function (event) {\n      event.preventDefault();\n\n      var _event$touches$2 = event.touches[0],\n          clientX = _event$touches$2.clientX,\n          clientY = _event$touches$2.clientY;\n\n\n      _this.onMove(clientX, clientY);\n    };\n\n    _this.onMouseUp = function (event) {\n      event.preventDefault();\n\n      document.removeEventListener('mouseup', _this.onMouseUp);\n      document.removeEventListener('mousemove', _this.onMouseMove);\n\n      document.removeEventListener('touchmove', _this.onTouchMove);\n      document.removeEventListener('touchend', _this.onMouseUp);\n      document.addEventListener('touchcancel', _this.onMouseUp);\n\n      if (_this.props.onResizeEnd) {\n        _this.props.onResizeEnd(_this.state.sizes);\n      }\n    };\n\n    _this.setPaneRef = function (idx, el) {\n      if (!_this.paneElements) {\n        _this.paneElements = [];\n      }\n\n      _this.paneElements[idx] = el;\n    };\n\n    _this.state = {\n      sizes: _this.getPanePropSize(props)\n    };\n    return _this;\n  }\n\n  _createClass(SplitPane, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      this.setState({ sizes: this.getPanePropSize(nextProps) });\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      document.removeEventListener('mouseup', this.onMouseUp);\n      document.removeEventListener('mousemove', this.onMouseMove);\n\n      document.removeEventListener('touchmove', this.onTouchMove);\n      document.removeEventListener('touchend', this.onMouseUp);\n    }\n  }, {\n    key: 'getDimensionsSnapshot',\n    value: function getDimensionsSnapshot(props) {\n      var split = props.split;\n      var paneDimensions = this.getPaneDimensions();\n      var splitPaneDimensions = this.splitPane.getBoundingClientRect();\n      var minSizes = this.getPanePropMinMaxSize(props, 'minSize');\n      var maxSizes = this.getPanePropMinMaxSize(props, 'maxSize');\n\n      var resizersSize = this.getResizersSize(removeNullChildren(this.props.children));\n      var splitPaneSizePx = split === 'vertical' ? splitPaneDimensions.width - resizersSize : splitPaneDimensions.height - resizersSize;\n\n      var minSizesPx = minSizes.map(function (s) {\n        return convert(s, splitPaneSizePx);\n      });\n      var maxSizesPx = maxSizes.map(function (s) {\n        return convert(s, splitPaneSizePx);\n      });\n      var sizesPx = paneDimensions.map(function (d) {\n        return split === 'vertical' ? d.width : d.height;\n      });\n\n      return {\n        resizersSize: resizersSize,\n        paneDimensions: paneDimensions,\n        splitPaneSizePx: splitPaneSizePx,\n        minSizesPx: minSizesPx,\n        maxSizesPx: maxSizesPx,\n        sizesPx: sizesPx\n      };\n    }\n  }, {\n    key: 'getPanePropSize',\n    value: function getPanePropSize(props) {\n      return removeNullChildren(props.children).map(function (child) {\n        var value = child.props['size'] || child.props['initialSize'];\n        if (value === undefined) {\n          return DEFAULT_PANE_SIZE;\n        }\n\n        return String(value);\n      });\n    }\n  }, {\n    key: 'getPanePropMinMaxSize',\n    value: function getPanePropMinMaxSize(props, key) {\n      return removeNullChildren(props.children).map(function (child) {\n        var value = child.props[key];\n        if (value === undefined) {\n          return key === 'maxSize' ? DEFAULT_PANE_MAX_SIZE : DEFAULT_PANE_MIN_SIZE;\n        }\n\n        return value;\n      });\n    }\n  }, {\n    key: 'getPaneDimensions',\n    value: function getPaneDimensions() {\n      return this.paneElements.filter(function (el) {\n        return el;\n      }).map(function (el) {\n        return el.getBoundingClientRect();\n      });\n    }\n  }, {\n    key: 'getSizes',\n    value: function getSizes() {\n      return this.state.sizes;\n    }\n  }, {\n    key: 'onMove',\n    value: function onMove(clientX, clientY) {\n      var _props = this.props,\n          split = _props.split,\n          onChange = _props.onChange;\n\n      var resizerIndex = this.resizerIndex;\n      var _dimensionsSnapshot = this.dimensionsSnapshot,\n          sizesPx = _dimensionsSnapshot.sizesPx,\n          minSizesPx = _dimensionsSnapshot.minSizesPx,\n          maxSizesPx = _dimensionsSnapshot.maxSizesPx,\n          splitPaneSizePx = _dimensionsSnapshot.splitPaneSizePx,\n          paneDimensions = _dimensionsSnapshot.paneDimensions;\n\n\n      var sizeDim = split === 'vertical' ? 'width' : 'height';\n      var primary = paneDimensions[resizerIndex];\n      var secondary = paneDimensions[resizerIndex + 1];\n      var maxSize = primary[sizeDim] + secondary[sizeDim];\n\n      var primaryMinSizePx = minSizesPx[resizerIndex];\n      var secondaryMinSizePx = minSizesPx[resizerIndex + 1];\n      var primaryMaxSizePx = Math.min(maxSizesPx[resizerIndex], maxSize);\n      var secondaryMaxSizePx = Math.min(maxSizesPx[resizerIndex + 1], maxSize);\n\n      var moveOffset = split === 'vertical' ? this.startClientX - clientX : this.startClientY - clientY;\n\n      var primarySizePx = primary[sizeDim] - moveOffset;\n      var secondarySizePx = secondary[sizeDim] + moveOffset;\n\n      var primaryHasReachedLimit = false;\n      var secondaryHasReachedLimit = false;\n\n      if (primarySizePx < primaryMinSizePx) {\n        primarySizePx = primaryMinSizePx;\n        primaryHasReachedLimit = true;\n      } else if (primarySizePx > primaryMaxSizePx) {\n        primarySizePx = primaryMaxSizePx;\n        primaryHasReachedLimit = true;\n      }\n\n      if (secondarySizePx < secondaryMinSizePx) {\n        secondarySizePx = secondaryMinSizePx;\n        secondaryHasReachedLimit = true;\n      } else if (secondarySizePx > secondaryMaxSizePx) {\n        secondarySizePx = secondaryMaxSizePx;\n        secondaryHasReachedLimit = true;\n      }\n\n      if (primaryHasReachedLimit) {\n        secondarySizePx = primary[sizeDim] + secondary[sizeDim] - primarySizePx;\n      } else if (secondaryHasReachedLimit) {\n        primarySizePx = primary[sizeDim] + secondary[sizeDim] - secondarySizePx;\n      }\n\n      sizesPx[resizerIndex] = primarySizePx;\n      sizesPx[resizerIndex + 1] = secondarySizePx;\n\n      var sizes = this.getSizes().concat();\n      var updateRatio = void 0;\n\n      [primarySizePx, secondarySizePx].forEach(function (paneSize, idx) {\n        var unit = getUnit(sizes[resizerIndex + idx]);\n        if (unit !== 'ratio') {\n          sizes[resizerIndex + idx] = convertToUnit(paneSize, unit, splitPaneSizePx);\n        } else {\n          updateRatio = true;\n        }\n      });\n\n      if (updateRatio) {\n        var ratioCount = 0;\n        var lastRatioIdx = void 0;\n        sizes = sizes.map(function (size, idx) {\n          if (getUnit(size) === 'ratio') {\n            ratioCount++;\n            lastRatioIdx = idx;\n\n            return convertToUnit(sizesPx[idx], 'ratio');\n          }\n\n          return size;\n        });\n\n        if (ratioCount === 1) {\n          sizes[lastRatioIdx] = '1';\n        }\n      }\n\n      onChange && onChange(sizes);\n\n      this.setState({\n        sizes: sizes\n      });\n    }\n  }, {\n    key: 'getResizersSize',\n    value: function getResizersSize(children) {\n      return (children.length - 1) * this.props.resizerSize;\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props2 = this.props,\n          children = _props2.children,\n          className = _props2.className,\n          split = _props2.split;\n\n      var notNullChildren = removeNullChildren(this.props.children);\n      var sizes = this.getSizes();\n      var resizersSize = this.getResizersSize(notNullChildren);\n\n      var elements = notNullChildren.reduce(function (acc, child, idx) {\n        var pane = void 0;\n        var resizerIndex = idx - 1;\n        var isPane = child.type === _Pane2.default;\n        var paneProps = {\n          index: idx,\n          'data-type': 'Pane',\n          split: split,\n          key: 'Pane-' + idx,\n          innerRef: _this2.setPaneRef,\n          resizersSize: resizersSize,\n          size: sizes[idx]\n        };\n\n        if (isPane) {\n          pane = (0, _react.cloneElement)(child, paneProps);\n        } else {\n          pane = _react2.default.createElement(\n            _Pane2.default,\n            paneProps,\n            child\n          );\n        }\n\n        if (acc.length === 0) {\n          return [].concat(_toConsumableArray(acc), [pane]);\n        } else {\n          var resizer = _react2.default.createElement(_Resizer2.default, {\n            index: resizerIndex,\n            key: 'Resizer-' + resizerIndex,\n            split: split,\n            onMouseDown: _this2.onMouseDown,\n            onTouchStart: _this2.onTouchStart\n          });\n\n          return [].concat(_toConsumableArray(acc), [resizer, pane]);\n        }\n      }, []);\n\n      var StyleComponent = split === 'vertical' ? RowStyle : ColumnStyle;\n\n      return _react2.default.createElement(\n        StyleComponent,\n        {\n          className: className,\n          'data-type': 'SplitPane',\n          'data-split': split,\n          innerRef: function innerRef(el) {\n            _this2.splitPane = el;\n          }\n        },\n        elements\n      );\n    }\n  }]);\n\n  return SplitPane;\n}(_react.Component);\n\nSplitPane.propTypes = {\n  children: _propTypes2.default.arrayOf(_propTypes2.default.node).isRequired,\n  className: _propTypes2.default.string,\n  split: _propTypes2.default.oneOf(['vertical', 'horizontal']),\n  resizerSize: _propTypes2.default.number,\n  onChange: _propTypes2.default.func,\n  onResizeStart: _propTypes2.default.func,\n  onResizeEnd: _propTypes2.default.func\n};\n\nSplitPane.defaultProps = {\n  split: 'vertical',\n  resizerSize: 1,\n  allowResize: true\n};\n\nexports.default = SplitPane;"]},"metadata":{},"sourceType":"script"}